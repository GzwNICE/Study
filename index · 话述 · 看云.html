<!DOCTYPE html>
<!-- saved from url=(0041)https://www.kancloud.cn/felbry/des/386826 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
<title>index · 话述  · 看云</title>
<meta name="description" content="看云专注于文档的在线创作、协作、分享和托管服务，致力于提供最佳的在线创作和阅读体验，让企业和个人可以更方便地发布和管理自己的文档。">
<meta name="keywords" content="文档托管,在线创作,文档在线管理,在线知识管理,文档托管平台,在线写书,文档在线转换,在线编辑,在线阅读,开发手册,api手册,文档在线学习,技术文档在线阅读,在线文档编辑">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
            <link rel="stylesheet" href="./index · 话述 · 看云_files/reader.css">
                </head>
<body>
<div id="main"><div data-reactroot="" class="root"><div class="window-container"><div class="window-head"><div class="toolbar"><a class="title" href="https://www.kancloud.cn/felbry/des">话述</a><div class="extra"></div></div></div><div class="progress"><div class="progress-bar" style="width: 100%;"></div></div><div class="window-body with-sidebar"><div class="sidebar"><div class="sidebar-selector"><div class="item active"><i class="icon content"></i><!-- react-text: 15 -->目录<!-- /react-text --></div><div class="item"><i class="icon search"></i><!-- react-text: 18 -->搜索<!-- /react-text --></div></div><!-- react-empty: 19 --><div class="sidebar-body"><div class="catalog-body active"><ul><li class="active"><div class="wholerow"></div><i class="icon"></i><a class="text">index</a></li></ul></div><div class="search-body"><div class="search-form"><form class="ui form"><div class="ui small fluid icon input"><input type="text" placeholder="请输入搜索关键词..."><i class="search icon"></i></div></form></div><div class="search-result"><div class="blankslate"><i class="icon search"></i><p>暂无相关搜索结果！</p></div></div></div></div><!-- react-empty: 37 --><div class="sidebar-copyright"><!-- react-text: 39 -->本文档使用 <!-- /react-text --><a href="http://www.kancloud.cn/" target="_blank">看云</a><!-- react-text: 41 --> 构建<!-- /react-text --></div></div><div class="workspace"><div class="article-wrap"><!-- react-empty: 44 --><div class="article"><div class="article-head"><div class="left floated tools"><a class="item icon"><i class="icon align justify"></i></a></div><div class="right floated tools"></div><h1>index</h1></div><div class="article-body"><!-- react-empty: 53 --><div><h1 data-line="0" class="line"><a id="_0"></a><!-- react-text: 57 -->博学谷项目话术<!-- /react-text --></h1><!-- react-text: 58 -->
<!-- /react-text --><p>在一个项目开始之前，应该对此项目的整体上有一个宏观的认知。具体包括项目有哪些功能（即涉及多少个页面），项目中运用到哪些额外的技术（如一系列扩展的插件等）。接下来对需要攻克的技术（之前未接触过的）先做一个简单的了解，然后接下来就是功能实现。</p><!-- react-text: 60 -->
<!-- /react-text --><p><strong>如何开始一个项目呢？</strong><br><!-- react-text: 64 -->
要知道，一个项目系统是庞大的。初期我们已经进行了<!-- /react-text --><strong>功能分析</strong><!-- react-text: 66 -->和<!-- /react-text --><strong>技术评估</strong><!-- react-text: 68 -->，这里有必要详细说一下<!-- /react-text --><strong>功能分析</strong><!-- react-text: 70 -->，前面注释说功能分析就是看看总共有多少页面，这种说法不是很准确，因为页面的多少基本是可以一下看出来的。我们真正做的是去抽离<!-- /react-text --><strong>每个页面</strong><!-- react-text: 72 -->中涉及到的功能模块。比如导航栏、侧边栏、添加讲师的模态框这些东西。<!-- /react-text --><br><!-- react-text: 74 -->
这些模块有些是多个页面公用的，所有也可以称为基础/通用模块。而我们一开始的工作就是要开发这些模块。可以把做项目想象成盖房，所以一开始我们要先准备砖，有了砖之后后续每间房就是堆砌的过程。<!-- /react-text --><br><strong>在开始模块开发之前，我们先根据自身情况对第一阶段的技术评估进行分析。</strong></p><!-- react-text: 77 -->
<!-- /react-text --><h2 data-line="9" class="line"><a id="1__9"></a><!-- react-text: 80 -->1. 技术选型与评估<!-- /react-text --></h2><!-- react-text: 81 -->
<!-- /react-text --><p>以下情况均以我自身为例，对博学谷项目进行技术评估</p><!-- react-text: 83 -->
<!-- /react-text --><h3 data-line="13" class="line"><a id="11__13"></a><!-- react-text: 86 -->1.1 已经掌握的技术栈<!-- /react-text --></h3><!-- react-text: 87 -->
<!-- /react-text --><ul><li>HTML/CSS/JAVASCRIPT （这个相当于废话）</li><li>Bootstrap （因为没有UI图，开发中我们直接使用现成库的样式和组件）</li><li>jQuery （主要是DOM操作及网络请求）</li><li>用户认证机制cookie/session（目前jsonwebtoken，简称jwt用的也比较多，也有很多优点）</li><li>git （这个不是硬性技术要求，但是开发协作、版本控制都用的到）</li></ul><!-- react-text: 94 -->
<!-- /react-text --><h3 data-line="20" class="line"><a id="12__20"></a><!-- react-text: 97 -->1.2 未接触的技术栈<!-- /react-text --></h3><!-- react-text: 98 -->
<!-- /react-text --><p><strong>紧急</strong><br><!-- react-text: 102 -->
假设没有通过视频学习过。<!-- /react-text --></p><!-- react-text: 103 -->
<!-- /react-text --><ul><li>requirejs（因为项目要以模块形式开发，所以开始之前一定要先了解掌握）</li><li>artTemplate （搭配requirejs的text插件，实现模块开发）</li></ul><!-- react-text: 107 -->
<!-- /react-text --><p><strong>不紧急</strong><br><!-- react-text: 111 -->
不紧急的意思就是此技术仅涉及到一两个模块的使用，即使在开发过程中也可以暂时搁置，等项目后期再实现。<!-- /react-text --></p><!-- react-text: 112 -->
<!-- /react-text --><ul><li>UEditor（个人中心模块涉及）</li><li>日期插件（添加讲师模块涉及）</li></ul><!-- react-text: 116 -->
<!-- /react-text --><h2 data-line="31" class="line"><a id="2__31"></a><!-- react-text: 119 -->2. 功能/通用模块开发<!-- /react-text --></h2><!-- react-text: 120 -->
<!-- /react-text --><p>既然涉及到文件的创建了，这时候就该考虑一下文件存储目录了，也就是我们要规划一下项目目录结构。</p><!-- react-text: 122 -->
<!-- /react-text --><h3 data-line="34" class="line"><a id="21__34"></a><!-- react-text: 125 -->2.1 文件目录创建<!-- /react-text --></h3><!-- react-text: 126 -->
<!-- /react-text --><p>先简单总结一下日常常用的一些目录：</p><!-- react-text: 128 -->
<!-- /react-text --><ul><li>src：source的缩写，即资源，可以理解为你编写的源码（所有文件）。</li><li>lib：library的缩写，即库文件。</li><li><!-- react-text: 133 -->dist：distribution的缩写，即分发。这里我们用不到，但可以简单理解一下。所谓分发、调配就是要传给特定人使用的文件夹，它可以表示成一种最终形态。当在某些开发环境下，比如在使用一个框架开发的时候（vue/react），我们所编写的源码文件是不能够直接丢到生产环境上使用的；因为浏览器只识别html/css/js这样的文件类型，而不识别以.vue为后缀的文件，所以需要通过<!-- /react-text --><strong>编译打包</strong><!-- react-text: 135 -->的方式将vue文件类型转换为对应的html/css/js文件类型；可以理解为将src文件夹下的文件通过编译，打包到一个新的文件夹dist目录下，这个dist目录就可以提交到生产环境下使用了。<!-- /react-text --></li></ul><!-- react-text: 136 -->
<!-- /react-text --><p><!-- react-text: 138 -->除了上述列举的，还有一些类似/js, /css, /imgs, 这样的目录；如果是后端开发，采用MVC模式的思想，也会有对应的controller，model，dao/db（数据库操作）这样的文件夹。而在本项目中，由于要使用模板文件，我们也会创建一个对应的tpls文件夹存放模板。<!-- /react-text --><br><!-- react-text: 140 -->
总之，在创建或浏览目录时，如果有疑惑，就要随时查询了解清楚。合理的目录结构有利于项目的开发，同时也方便大家快速理解你的项目。<!-- /react-text --></p><!-- react-text: 141 -->
<!-- /react-text --><p>通过对项目的分析，暂且创建如下开发目录：</p><!-- react-text: 143 -->
<!-- /react-text --><p><!-- react-text: 145 -->├─css<!-- /react-text --><br><!-- react-text: 147 -->
├─imgs<!-- /react-text --><br><!-- react-text: 149 -->
├─js<!-- /react-text --><br><!-- react-text: 151 -->
├─lib （存放我们所需的库）<!-- /react-text --><br><!-- react-text: 153 -->
│  ├─css<!-- /react-text --><br><!-- react-text: 155 -->
│  │      bootstrap.css<!-- /react-text --><br><!-- react-text: 157 -->
│  │<!-- /react-text --><br><!-- react-text: 159 -->
│  └─js<!-- /react-text --><br><!-- react-text: 161 -->
│          art-template.js<!-- /react-text --><br><!-- react-text: 163 -->
│          bootstrap.js<!-- /react-text --><br><!-- react-text: 165 -->
│          jquery-3.2.1.js<!-- /react-text --><br><!-- react-text: 167 -->
│          require.js<!-- /react-text --><br><!-- react-text: 169 -->
│          text.js（requirejs的插件）<!-- /react-text --><br><!-- react-text: 171 -->
│<!-- /react-text --><br><!-- react-text: 173 -->
├─tpls<!-- /react-text --><br><!-- react-text: 175 -->
└─views（页面文件，如index.html、courseManage.html等）<!-- /react-text --></p><!-- react-text: 176 -->
<!-- /react-text --><p><!-- react-text: 178 -->需要说明的是，目录结构上可根据个人理解做适当调整，这个没有什么规范。再者是目录初期根据需要建立就可以了，不可能是开始就一下全部考虑到的。<!-- /react-text --><br><strong>Note</strong><!-- react-text: 181 -->：有些框架提供的<!-- /react-text --><strong>脚手架</strong><!-- react-text: 183 -->可以帮助你快速生成项目结构文件，比如vue-cli。只需要在命令行运行一个<!-- /react-text --><code>vue new projectName</code><!-- react-text: 185 -->即可一键生成项目开发目录。但使用脚手架的前提是你充分理解了各个文件夹下文件的功能，不然后期如果有额外的需求要改动文件或者出了一些小问题，你就会手足无措了。<!-- /react-text --><strong>当你经常做某一类型项目而频繁的搭建开发环境的时候，就可以利用某些工具制作自己的脚手架，比如Yeoman就是个不错的工具。当然，做一个git仓库每次克隆下来重复使用也是个不错的选择，但是没有Yeoman灵活。</strong></p><!-- react-text: 187 -->
<!-- /react-text --><h3 data-line="65" class="line"><a id="22__65"></a><!-- react-text: 190 -->2.2 第一个模块<!-- /react-text --></h3><!-- react-text: 191 -->
<!-- /react-text --><p><!-- react-text: 193 -->项目目录搭好了，第一步技术评估中考虑到的库我们也都分别下载组织好了，那就可以开始第二步的模块开发了。为什么要先开发模块呢，还是之前说的，既然要盖房，就要先准备砖（模块）。边开发项目边生产模块可以吗？当然也是可以的，每个人都有每个人的思维方式嘛。但是想一下就知道，是运一点砖过来盖一点好，还是直接准备好砖一步盖齐好呢。<!-- /react-text --><strong>当然，我这里强调的是理想状态。在新手的实际开发中，确实是先有一个主文件，然后开发一个模块，引入主文件调试；再接着开发另一个模块。等到后期随着开发思想成熟之后，你就可以脱离主文件的限制，优先开发全部模块了。</strong></p><!-- react-text: 195 -->
<!-- /react-text --><p><!-- react-text: 197 -->我们以<!-- /react-text --><code>优先开发全部模块</code><!-- react-text: 199 -->的方式来处理：既然是一个模块，那它一定不是一个完整的html文档，它只是一个html代码片段，那如何独立对其进行调试呢？<!-- /react-text --></p><!-- react-text: 200 -->
<!-- /react-text --><p><!-- react-text: 202 -->这里可以先回顾一下老师是怎么教的：先是有了一个<!-- /react-text --><code>index.html</code><!-- react-text: 204 -->文件（主文件），然后在tpls写上模块的代码段，最后在<!-- /react-text --><code>index.html</code><!-- react-text: 206 -->中通过<!-- /react-text --><code>requirejs</code><!-- react-text: 208 -->引入模板代码，从而实现填充。这个思想应该就是我们在初期要学会的。现在我们抛出一个问题：如果细心思考过的同学会发现，老师在前期讲解的过程中，为了方便展示，在引入模板的html代码段后，直接将<!-- /react-text --><strong>与模板相关联的js逻辑</strong><!-- react-text: 210 -->（比如事件委托）也一并写在了<!-- /react-text --><code>index.html</code><!-- react-text: 212 -->页面中。那这样的话算是标准的模块化开发吗？大家可以自己思考一下。<!-- /react-text --></p><!-- react-text: 213 -->
<!-- /react-text --><p><!-- react-text: 215 -->回归正题：如何独立调试模块？其实思想和上述方式差不多，只是这次真的专注于编写一个模块而已（脱离主文件）。<!-- /react-text --><br><!-- react-text: 217 -->
首先，我们可以创建一个类似于下面的<!-- /react-text --><code>universal.html</code><!-- react-text: 219 -->文件:<!-- /react-text --></p><!-- react-text: 220 -->
<!-- /react-text --><pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Module&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- 这里是模板的html部分 --&gt;
    &lt;script&gt;
        // 这里是模板的js部分
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><!-- react-text: 223 -->
<!-- /react-text --><p>有时候这些还不够，可能还需要引入几个库文件，添加后的效果如下：</p><!-- react-text: 225 -->
<!-- /react-text --><pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;link rel="stylesheet" href="../lib/css/bootstrap.css"&gt;
    &lt;title&gt;Module&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- 这里是模板的html部分 --&gt;
    &lt;script src="../lib/js/jquery-3.2.1.js"&gt;&lt;/script&gt;
    &lt;script src="../lib/js/bootstrap.js"&gt;&lt;/script&gt;
    &lt;script src="../lib/js/art-template.js"&gt;&lt;/script&gt;
    &lt;script&gt;
        // 这里是模板的js部分
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><!-- react-text: 228 -->
<!-- /react-text --><h4 data-line="110" class="line"><a id="221_teacherTablehtml_110"></a><!-- react-text: 231 -->2.2.1 teacherTable.html<!-- /react-text --></h4><!-- react-text: 232 -->
<!-- /react-text --><p><!-- react-text: 234 -->再次回想一下老师是怎么把模板文件组装进<!-- /react-text --><code>index.html</code><!-- react-text: 236 -->页面的：通过<!-- /react-text --><code>requirejs</code><!-- react-text: 238 -->的<!-- /react-text --><code>text</code><!-- react-text: 240 -->插件将一个html文件转换成字符串，然后丢进<!-- /react-text --><code>artTemplate</code><!-- react-text: 242 -->实例的方法中与数据进行编译渲染。显然这其中包含两部分：<!-- /react-text --></p><!-- react-text: 243 -->
<!-- /react-text --><ul><li>模板的字符串</li><li><!-- react-text: 247 -->一个实例方法（<!-- /react-text --><code>template.render(string, data)</code><!-- react-text: 249 -->）<!-- /react-text --></li></ul><!-- react-text: 250 -->
<!-- /react-text --><p><!-- react-text: 252 -->那当我们将这些内容都写进一个完整的文件（<!-- /react-text --><code>teacherTable.html</code><!-- react-text: 254 -->）中，<!-- /react-text --><code>js</code><!-- react-text: 256 -->如何得到模板字符串呢，答案很简单：<!-- /react-text --><code>innerHTML</code><!-- react-text: 258 -->。<!-- /react-text --><br><!-- react-text: 260 -->
然后调用了<!-- /react-text --><code>template.render(string, data)</code><!-- react-text: 262 -->方法得到渲染后的字符串。<!-- /react-text --></p><!-- react-text: 263 -->
<!-- /react-text --><p><!-- react-text: 265 -->然后编写测试完展示效果之后，我们就可以分别将其中的内容抽离出来放到对应的文件中了。比如这里先开发<!-- /react-text --><code>teacherTable</code><!-- react-text: 267 -->组件，那么我们将对应的代码抽离出来分别创建<!-- /react-text --><code>teacherTable.html</code><!-- react-text: 269 -->， <!-- /react-text --><code>teacherTable.js</code><!-- react-text: 271 --> 文件。有时可能还会有<!-- /react-text --><code>teacherTable.css</code><!-- react-text: 273 -->文件。<!-- /react-text --></p><!-- react-text: 274 -->
<!-- /react-text --><p><!-- react-text: 276 -->接下来就是一个完整的<!-- /react-text --><code>teacherTable.html</code><!-- react-text: 278 -->文件代码<!-- /react-text --></p><!-- react-text: 279 -->
<!-- /react-text --><pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;link rel="stylesheet" href="../lib/css/bootstrap.css"&gt;
    &lt;title&gt;Module&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- 这里是模板的html部分 --&gt;
    &lt;script id="tpl-teacherTable-str" type="text/html"&gt;
        &lt;table id="tpl-teacherTable" class="table table-bordered"&gt;
            &lt;thead&gt;
                &lt;tr&gt;
                    &lt;th&gt;讲师编号&lt;/th&gt;
                    &lt;th&gt;姓名&lt;/th&gt;
                    &lt;th&gt;昵称&lt;/th&gt;
                    &lt;th&gt;性别&lt;/th&gt;
                    &lt;th&gt;手机&lt;/th&gt;
                    &lt;th&gt;邮箱&lt;/th&gt;
                    &lt;th&gt;出生日期&lt;/th&gt;
                    &lt;th&gt;入职日期&lt;/th&gt;
                    &lt;th&gt;账户状态&lt;/th&gt;
                    &lt;th&gt;操作&lt;/th&gt;
                &lt;/tr&gt;
            &lt;/thead&gt;
            &lt;tbody&gt;
                &lt;!-- target 应该是传参的键 --&gt;
                {{each teacherData}}
                    &lt;tr&gt;
                        &lt;td&gt;{{$value.tc_id}}&lt;/td&gt;
                        &lt;td&gt;{{$value.tc_name}}&lt;/td&gt;
                        &lt;td&gt;{{$value.tc_roster}}&lt;/td&gt;
                        &lt;td&gt;{{if $value.tc_gender}}男{{else}}女{{/if}}&lt;/td&gt;
                        &lt;td&gt;{{$value.tc_cellphone}}&lt;/td&gt;
                        &lt;td&gt;{{$value.tc_email}}&lt;/td&gt;
                        &lt;td&gt;{{$value.tc_birthday}}&lt;/td&gt;
                        &lt;td&gt;{{$value.tc_join_date}}&lt;/td&gt;
                        &lt;td&gt;{{if $value.tc_status}}启用{{else}}注销{{/if}}&lt;/td&gt;
                        &lt;td&gt;
                            &lt;button class="btn btn-success btn-sm" data-info="{{$value}}" type="button"&gt;查看&lt;/button&gt;
                            &lt;button class="btn btn-primary btn-sm" data-info="{{$value}}" type="button"&gt;编辑&lt;/button&gt;
                            &lt;button class="btn btn-info btn-sm" data-info="{{$value}}" type="button"&gt;启用&lt;/button&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                {{/each}}
            &lt;/tbody&gt;
        &lt;/table&gt;
    &lt;/script&gt;
    &lt;script src="../lib/js/jquery-3.2.1.js"&gt;&lt;/script&gt;
    &lt;script src="../lib/js/bootstrap.js"&gt;&lt;/script&gt;
    &lt;script src="../lib/js/art-template.js"&gt;&lt;/script&gt;
    &lt;script&gt;
        // 渲染
        var str = template.render($('#tpl-teacherTable-str')[0].innerHTML, {
            teacherData: [
                {
                    "tc_id": 2,
                    "tc_name": "李清照",
                    "tc_roster": "易安居士",
                    "tc_gender": 1,
                    "tc_cellphone": "18500409233",
                    "tc_email": "linan@itcast.cn",
                    "tc_status": 0,
                    "tc_birthday": "1991-03-01",
                    "tc_join_date": "2015-09-30"
                },
                {
                    "tc_id": 9,
                    "tc_name": "令狐冲",
                    "tc_roster": "攻城狮",
                    "tc_gender": 0,
                    "tc_cellphone": "",
                    "tc_email": "",
                    "tc_status": 0,
                    "tc_birthday": "1970-01-01",
                    "tc_join_date": "1970-01-01"
                }
            ]
        });
        document.body.innerHTML = str;
        // 事件委托
        $('#tpl-teacherTable')
            .on('click', '.btn-success', lookClick)
            .on('click', '.btn-primary', editClick)
            .on('click', '.btn-info', statusClick);
        function lookClick () {
            // 这里假设有一个全局变量 currentInfo，为查看和编辑模态框提供状态值
            currentInfo = JSON.parse($(this).attr('data-info'));
            $('#tpl-teacherInfo').modal('show');
        }
        function editClick () {
            currentInfo = JSON.parse($(this).attr('data-info'));
            $('#tpl-teacherEdit').modal('show');

            // 刷新数据，原理同下差不多
        }
        function statusClick () {
            var info = JSON.parse($(this).attr('data-info'));
            // 请求更改状态接口

            // 若成功，更新 $(this) 的data-info值及按钮状态
            info.tc_status = res.result.tc_status;
            $(this).attr('data-info') = info;
            $(this).text() = $(this).text() == '启用' ? '注销' : '启用';
        }
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><!-- react-text: 282 -->
<!-- /react-text --><p><strong>注意</strong><!-- react-text: 285 -->：这里有几个点还没有解决：<!-- /react-text --></p><!-- react-text: 286 -->
<!-- /react-text --><ul><li>网络请求（实际开发中涉及到前后端数据对接，那么前端在开发中还没有后端提供的数据怎么办呢？那就是按照约定好的接口文档模拟出一些简单的伪数据。随后等后端接口完善好我们就可以通过网络请求请求这些真实的数据实现渲染）</li><li><!-- react-text: 290 -->状态变更（这里涉及到了模块之外的<!-- /react-text --><strong>状态</strong><!-- react-text: 292 -->，比如<!-- /react-text --><code>currentInfo</code><!-- react-text: 294 -->。在模块之外的变量有时候我们不好把控。这个时候之前老师演示的那种直接把<!-- /react-text --><code>js</code><!-- react-text: 296 -->逻辑全部写在<!-- /react-text --><code>index.html</code><!-- react-text: 298 -->中的好处就体现出来了，简单粗暴，清晰易懂。但是，成熟的框架是有<!-- /react-text --><strong>组件间通信</strong><!-- react-text: 300 -->及<!-- /react-text --><strong>全局状态管理</strong><!-- react-text: 302 -->机制的，从另一方面也证明了，框架解决了我们开发中的这些痛点）<!-- /react-text --></li></ul><!-- react-text: 303 -->
<!-- /react-text --><p><!-- react-text: 305 -->我觉得在这个时候应该给大家贴一张现在非常流行的<!-- /react-text --><code>vue</code><!-- react-text: 307 -->框架的一个小文件内容（它就是以组件<!-- /react-text --><code>component</code><!-- react-text: 309 -->形式开发的）。看完之后有没有觉得非常熟悉的感觉？它其实就是我们上述所述的标准模块（一个模块包含<!-- /react-text --><code>css/html/js</code><!-- react-text: 311 -->的全部内容）形式。只不过<!-- /react-text --><code>vue</code><!-- react-text: 313 -->文件可以通过<!-- /react-text --><code>webpack</code><!-- react-text: 315 -->工具打包构建成对应的<!-- /react-text --><code>html/css/js</code><!-- react-text: 317 -->文件，而我们则需要手动复制创建文件了~<!-- /react-text --><br><img src="./index · 话述 · 看云_files/vue-component.png" alt="vue文件"></p><!-- react-text: 320 -->
<!-- /react-text --><p>按照这种模块开发的思想，我们应该可以编写出很多个小模块了。</p><!-- react-text: 322 -->
<!-- /react-text --><p>好处是什么呢？你有没有发现在开发这些小模块的时候无比轻松，有一种所见即所得的畅快体验？我们不是在头疼一个项目的庞大，而是在享受完成一个又一个的小任务。</p><!-- react-text: 324 -->
<!-- /react-text --><p><!-- react-text: 326 -->全部完成之后呢？那接下来就是组装的过程了，一个页面中有哪些模块，将需要的模块组装进去不就ok了嘛（如果你还在纠结多个模块在一个界面如何布局，就想想<!-- /react-text --><code>css</code><!-- react-text: 328 -->的盒模型）。具体使用就是依靠<!-- /react-text --><code>requirejs</code><!-- react-text: 330 -->了。因为组装的道理是互通的，所以完成一个页面的组装之后；后续就会非常快了。<!-- /react-text --></p><!-- react-text: 331 -->
<!-- /react-text --><p><!-- react-text: 333 -->值得一提的是，模块化开发思想不能滥用。比如一个登陆界面，只有一个登陆组件。有必要再把它抽离出来再组装进去吗？完全是没必要的，这个时间直接写进一个完整的<!-- /react-text --><code>login.html</code><!-- react-text: 335 -->页面中就好了。<!-- /react-text --></p><!-- react-text: 336 -->
<!-- /react-text --><h3 data-line="247" class="line"><a id="3__247"></a><!-- react-text: 339 -->3. 组装多个模块<!-- /react-text --></h3><!-- react-text: 340 -->
<!-- /react-text --><p><!-- react-text: 342 -->针对<!-- /react-text --><code>index.html</code><!-- react-text: 344 -->文件，我们开发了<!-- /react-text --><code>teacherTable</code><!-- react-text: 346 -->, <!-- /react-text --><code>teacherInfo</code><!-- react-text: 348 -->, <!-- /react-text --><code>teacherEdit</code><!-- react-text: 350 -->, <!-- /react-text --><code>teacherAdd</code><!-- react-text: 352 -->, <!-- /react-text --><code>personal</code><!-- react-text: 354 -->五个组件，下一步就是将其抽离出来，分别创建对应的<!-- /react-text --><code>js</code><!-- react-text: 356 -->, <!-- /react-text --><code>html</code><!-- react-text: 358 -->文件。这里就使用到了<!-- /react-text --><code>requirejs</code><!-- react-text: 360 -->。<!-- /react-text --></p><!-- react-text: 361 -->
<!-- /react-text --><h3 data-line="250" class="line"><a id="31_mainjs_250"></a><!-- react-text: 364 -->3.1 配置<!-- /react-text --><code>main.js</code><!-- react-text: 366 -->文件<!-- /react-text --></h3><!-- react-text: 367 -->
<!-- /react-text --><p><!-- react-text: 369 -->首先配置如下属性，主要是利用<!-- /react-text --><code>require.config()</code><!-- react-text: 371 -->方法完成对<!-- /react-text --><strong>库</strong><!-- react-text: 373 -->和<!-- /react-text --><strong>路径</strong><!-- react-text: 375 -->的简写，以及适配不符合<!-- /react-text --><code>AMD</code><!-- react-text: 377 -->规范的库。<!-- /react-text --></p><!-- react-text: 378 -->
<!-- /react-text --><pre><code>require.config({
    // baseUrl: '../lib/js',
    paths: {
        jquery: './jquery-3.2.1',
        art: './art-template',
        bootstrap: './bootstrap',
        text: './text',
        // 路径
        tpls: '../../tpls',
        js: '../../js'
    },
    shim: {
        'bootstrap': {
            deps: ['jquery']
        }
    }
});
</code></pre><!-- react-text: 381 -->
<!-- /react-text --><h3 data-line="272" class="line"><a id="32_teacherTablejs_272"></a><!-- react-text: 384 -->3.2 创建并导入<!-- /react-text --><code>teacherTable.js</code></h3><!-- react-text: 386 -->
<!-- /react-text --><p><!-- react-text: 388 -->接着就是对第一个模块<!-- /react-text --><code>teacherTable</code><!-- react-text: 390 -->的导入了，<!-- /react-text --><code>html</code><!-- react-text: 392 -->文件我们知道就是那点东西，但是<!-- /react-text --><code>js</code><!-- react-text: 394 -->如何修改才能像是一个模块呢。这个时候要以一种抽象的方式去思考，即这个模块的功能是<!-- /react-text --><strong><!-- react-text: 396 -->接收数据并生成一个DOM对象并进行事件监听，最后挂载在<!-- /react-text --><code>index.html</code><!-- react-text: 398 -->的主体上<!-- /react-text --></strong><!-- react-text: 399 -->。通俗来讲，给我需要的数据（这里指讲师列表），我把它渲染成表格，并且对按钮添加点击事件，然后追加到<!-- /react-text --><code>index.html</code><!-- react-text: 401 -->的<!-- /react-text --><code>body</code><!-- react-text: 403 -->中。<!-- /react-text --></p><!-- react-text: 404 -->
<!-- /react-text --><p><strong>teacherTable.js</strong></p><!-- react-text: 407 -->
<!-- /react-text --><pre><code>define(['jquery', 'art', 'text!tpls/teacherTable.html'], function ($, template, tpl) {
    function loadTeacherTable (data) {
        var str = template.render(tpl, data);
    
        $('.teacherTableContainer')[0].innerHTML = str;

        // 事件委托
        $('#tpl-teacherTable')
            .on('click', '.btn-success', lookClick)
            .on('click', '.btn-primary', editClick)
            .on('click', '.btn-info', statusClick);
    }

    function lookClick () {
        // 根据id请求信息
        currentInfo = JSON.parse($(this).attr('data-info'));
        require(['js/teacherInfo'], function (loadInfoModal) {
            loadInfoModal({
                teacher: currentInfo
            });
        });
    }
    function editClick () {
        // 编辑 get 修改 post 两个接口
        currentInfo = JSON.parse($(this).attr('data-info'));
        require(['js/teacherEdit'], function (loadEditModal) {
            loadEditModal({
                teacher: currentInfo
            });
        });

        // 刷新数据，原理同下差不多
    }
    function statusClick () {
        var info = JSON.parse($(this).attr('data-info'));
        // 请求更改状态接口 id/status

        // 若成功，更新 $(this) 的data-info值及按钮状态
        // info.tc_status = res.result.tc_status;
        $(this).attr('data-info', JSON.stringify(info));
        $(this).text() == '启用' ? $(this).text('注销') : $(this).text('启用');
    }

    return loadTeacherTable;
});
</code></pre><!-- react-text: 410 -->
<!-- /react-text --><p><!-- react-text: 412 -->这个模块<!-- /react-text --><code>return</code><!-- react-text: 414 -->了一个<!-- /react-text --><code>loadTeacherTable</code><!-- react-text: 416 -->函数，函数接收一个<!-- /react-text --><code>data</code><!-- react-text: 418 -->参数，然后渲染，挂载，并进行事件监听。<!-- /react-text --></p><!-- react-text: 419 -->
<!-- /react-text --><p><strong>main.js</strong></p><!-- react-text: 422 -->
<!-- /react-text --><pre><code>require(['js/teacherTable'], function (loadTeacherTable) {
    loadTeacherTable({
        teacherData: myData	// myData 是服务器接口提供的数据
    });
});
</code></pre><!-- react-text: 425 -->
<!-- /react-text --><p><code>main</code><!-- react-text: 428 -->文件中引入<!-- /react-text --><code>teacherTable</code><!-- react-text: 430 -->模块，实现模块的导入。<!-- /react-text --></p><!-- react-text: 431 -->
<!-- /react-text --><p><!-- react-text: 433 -->如果这个过程走下来了，那接下来剩下的几个模块导入就不在话下了，基本都是一个思想。<!-- /react-text --><br><!-- react-text: 435 -->
只不过，有时候模块没必要一开始就加载进来。比如模态框（在上面的<!-- /react-text --><code>teacherTable.js</code><!-- react-text: 437 -->中就有体现）。只有在用户点击操作之后才会显示模态框，那我们就可以将模块引入逻辑放在事件的回调函数里。如下代码片段：<!-- /react-text --></p><!-- react-text: 438 -->
<!-- /react-text --><pre><code>// 添加功能不需要预加载数据，所以不需要传递参数
$('#teacher-add-btn').on('click', function () {
    require(['js/teacherAdd'], function (loadAddModal) {
        loadAddModal();
    });
});

// 个人中心功能则需要预加载对应的数据，需要传递一个参数
$('#personal-btn').on('click', function () {
    require(['js/personal'], function (loadPersonalModal) {
        loadPersonalModal({
            teacher: personalData
        });
    });
});
</code></pre><!-- react-text: 441 -->
<!-- /react-text --><h3 data-line="357" class="line"><a id="33__357"></a><!-- react-text: 444 -->3.3 结论<!-- /react-text --></h3><!-- react-text: 445 -->
<!-- /react-text --><p><!-- react-text: 447 -->到此一个<!-- /react-text --><code>app</code><!-- react-text: 449 -->的通用流程就走下来了。主要回顾两点：<!-- /react-text --></p><!-- react-text: 450 -->
<!-- /react-text --><ol><li>掌握独立开发单个模块的思想</li><li>学会抽象模块到引入主页面的技能</li></ol><!-- react-text: 454 -->
<!-- /react-text --><h2 data-line="362" class="line"><a id="4__362"></a><!-- react-text: 457 -->4. 开发细节补充<!-- /react-text --></h2><!-- react-text: 458 -->
<!-- /react-text --><h3 data-line="364" class="line"><a id="41_cookiesessionjwt_364"></a><!-- react-text: 461 -->4.1 登录系统（即用户系统，谈谈cookie/session与jwt）<!-- /react-text --></h3><!-- react-text: 462 -->
<!-- /react-text --><p><!-- react-text: 464 -->本项目对于用户认证采取的方法为：<!-- /react-text --><br><!-- react-text: 466 -->
用户登录 <!-- /react-text --><code>-&gt;</code><!-- react-text: 468 --> 将用户信息存储进本地cookie中 <!-- /react-text --><code>-&gt;</code><!-- react-text: 470 --> 跳转首页；<!-- /react-text --><br><!-- react-text: 472 -->
每次发送请求前或是访问首页前 <!-- /react-text --><code>-&gt;</code><!-- react-text: 474 --> 检测本地<!-- /react-text --><code>cookie</code><!-- react-text: 476 -->是否包含用户信息 <!-- /react-text --><code>-&gt;</code><!-- react-text: 478 --> 存在即合法用户，不存在即不合法，跳转至登录界面。<!-- /react-text --></p><!-- react-text: 479 -->
<!-- /react-text --><p><strong>然而这种做法仅仅是一个伪验证。实际中的项目一是用户认证都是服务端做的事情，二是很少主动操作cookie。</strong></p><!-- react-text: 482 -->
<!-- /react-text --><p><!-- react-text: 484 -->那么<!-- /react-text --><code>cookie</code><!-- react-text: 486 -->的实际使用是怎样的呢？我以自我理解谈一谈。<!-- /react-text --><br><code>cookie</code><!-- react-text: 489 -->可以理解为PC浏览器的一种存储机制，它和浏览器新增的<!-- /react-text --><code>API</code><!-- react-text: 491 -->中的<!-- /react-text --><code>localStorage</code><!-- react-text: 493 -->, <!-- /react-text --><code>sessionStorage</code><!-- react-text: 495 -->有一定的相似（仅从存储上来说）。但<!-- /react-text --><code>cookie</code><!-- react-text: 497 -->还有个好处就是每次本地客户端向服务端发送<!-- /react-text --><code>http</code><!-- react-text: 499 -->请求的时候，会在<!-- /react-text --><strong>请求头</strong><!-- react-text: 501 -->中附加<!-- /react-text --><code>Cookie</code><!-- react-text: 503 -->这个字段，将<!-- /react-text --><code>cookie</code><!-- react-text: 505 -->值传给服务端。前提是<!-- /react-text --><strong>同域</strong><!-- react-text: 507 -->下。<!-- /react-text --><br><!-- react-text: 509 -->
在解释下面的东西前，我先举个例子给大家以便更容易理解：假设你在腾讯网<!-- /react-text --><code>www.tengxun.com</code><!-- react-text: 511 -->上进行了<!-- /react-text --><strong>登录</strong><!-- react-text: 513 -->操作，接着服务器那边就会响应从而在浏览器端（客户端）设置一个<!-- /react-text --><strong>此域</strong><!-- react-text: 515 -->下的<!-- /react-text --><code>cookie</code><!-- react-text: 517 -->值（具体方法见下）。接下来你如果点击了查看个人信息，浏览器就会发送关于<!-- /react-text --><code>www.tengxun.com/personalInfo</code><!-- react-text: 519 -->接口的 <!-- /react-text --><code>get</code><!-- react-text: 521 -->请求，浏览器发现本地存储的<!-- /react-text --><code>cookie</code><!-- react-text: 523 -->中有关于<!-- /react-text --><code>www.tengxun.com</code><!-- react-text: 525 -->这个域名下的值，就会一并随请求发送。然后服务端接收请求拿到请求头中的<!-- /react-text --><code>cookie</code><!-- react-text: 527 -->值就能判断是哪个用户并返回对应的用户信息了。<!-- /react-text --></p><!-- react-text: 528 -->
<!-- /react-text --><p><strong>当知道了cookie要作为用户唯一凭证发送给服务器，你是否会想cookie是怎么设置的呢？服务端怎么通过cookie确定是哪个用户呢？</strong></p><!-- react-text: 531 -->
<!-- /react-text --><h4 data-line="377" class="line"><a id="411_cookie_377"></a><!-- react-text: 534 -->4.1.1 cookie是怎么设置的？<!-- /react-text --></h4><!-- react-text: 535 -->
<!-- /react-text --><p><!-- react-text: 537 -->用户密码登录 <!-- /react-text --><code>-&gt;</code><!-- react-text: 539 --> 服务端验证成功，生成一条<!-- /react-text --><code>session</code><!-- react-text: 541 -->信息（这个信息中包含了用户标识，比如用户<!-- /react-text --><code>id</code><!-- react-text: 543 -->这种敏感信息）存储在<!-- /react-text --><strong>内存/数据库</strong><!-- react-text: 545 -->中，然后仅将<!-- /react-text --><code>sessionId</code><!-- react-text: 547 -->返回给客户端（具体方式就是设置响应头<!-- /react-text --><code>Set-Cookie: NAME=VALUE; expires=DATE; path=PATH; domain=DOMAIN_NAME; secure</code><!-- react-text: 549 -->，一些参数是可选的，详情自查） <!-- /react-text --><code>-&gt;</code><!-- react-text: 551 --> 客户端接收到响应发现有<!-- /react-text --><code>Set-Cookie</code><!-- react-text: 553 -->这个响应头，浏览器就会存储这个<!-- /react-text --><code>cookie</code><!-- react-text: 555 -->值作为之后请求的用户凭证。<!-- /react-text --></p><!-- react-text: 556 -->
<!-- /react-text --><h4 data-line="381" class="line"><a id="412_cookie_381"></a><!-- react-text: 559 -->4.1.2 服务端怎么通过cookie确定是哪个用户？<!-- /react-text --></h4><!-- react-text: 560 -->
<!-- /react-text --><p><!-- react-text: 562 -->服务端拿到请求中的<!-- /react-text --><code>cookie</code><!-- react-text: 564 -->值 <!-- /react-text --><code>-&gt;</code><!-- react-text: 566 --> 解析出存储在 <!-- /react-text --><code>cookie</code><!-- react-text: 568 --> 中的 <!-- /react-text --><code>sessionId</code><!-- react-text: 570 -->值 <!-- /react-text --><code>-&gt;</code><!-- react-text: 572 --> 通过<!-- /react-text --><code>sessionId</code><!-- react-text: 574 -->在<!-- /react-text --><strong>内存/数据库</strong><!-- react-text: 576 -->中拿到对应的session值（即用户一系列敏感信息，比如用户<!-- /react-text --><code>id</code><!-- react-text: 578 -->） <!-- /react-text --><code>-&gt;</code><!-- react-text: 580 --> 有了用户<!-- /react-text --><code>id</code><!-- react-text: 582 -->，就可以去数据库中查找用户数据了。<!-- /react-text --></p><!-- react-text: 583 -->
<!-- /react-text --><p><!-- react-text: 585 -->如果读懂的话，就很容易理解：用户认证是<!-- /react-text --><code>session/cookie</code><!-- react-text: 587 -->机制的话，客户端（前端）是不需要做什么工作的。假如出现用户验证失败的话，服务端会自行返回一个<!-- /react-text --><code>401 用户认证失败</code><!-- react-text: 589 -->的页面或是状态码。<!-- /react-text --></p><!-- react-text: 590 -->
<!-- /react-text --><p><strong><!-- react-text: 593 -->NOTE：上述提到了许多请求头和响应头，其实这是<!-- /react-text --><code>HTTP</code><!-- react-text: 595 -->的基本知识，建议大家检索或者查看<!-- /react-text --><code>《HTTP权威指南》</code><!-- react-text: 597 -->第一章，详细了解一下数据传输过程。<!-- /react-text --></strong></p><!-- react-text: 598 -->
<!-- /react-text --><h4 data-line="388" class="line"><a id="413_jwtjsonwebtoken_388"></a><!-- react-text: 601 -->4.1.3 jwt（jsonwebtoken）认证<!-- /react-text --></h4><!-- react-text: 602 -->
<!-- /react-text --><p><!-- react-text: 604 -->这里仅作为建议，希望大家了解一下<!-- /react-text --><code>jwt</code><!-- react-text: 606 -->认证的机制，和上述的<!-- /react-text --><code>cookie/session</code><!-- react-text: 608 -->有相同的地方。<!-- /react-text --><br><!-- react-text: 610 -->
它对客户端有更好的兼容性。比如移动端，微信小程序这种客户端是不支持<!-- /react-text --><code>cookie</code><!-- react-text: 612 -->存储机制的。<!-- /react-text --></p><!-- react-text: 613 -->
<!-- /react-text --><h3 data-line="392" class="line"><a id="42__392"></a><!-- react-text: 616 -->4.2 模块整合<!-- /react-text --></h3><!-- react-text: 617 -->
<!-- /react-text --><p><!-- react-text: 619 -->模块整合主要面对两个问题，一个是<!-- /react-text --><code>config</code><!-- react-text: 621 -->的配置，一个就是最开始如何对第一个模块抽离。<!-- /react-text --></p><!-- react-text: 622 -->
<!-- /react-text --><h4 data-line="395" class="line"><a id="421_config_395"></a><!-- react-text: 625 -->4.2.1 <!-- /react-text --><code>config</code><!-- react-text: 627 -->配置<!-- /react-text --></h4><!-- react-text: 628 -->
<!-- /react-text --><p><!-- react-text: 630 -->这里碰到的错误就是没有理解清楚模块加载路径是以什么为基准的，查看文档得出如下结论：<!-- /react-text --><br><!-- react-text: 632 -->
a. 没有入口文件，以requirejs路径为根路径<!-- /react-text --><br><!-- react-text: 634 -->
b. 有入口文件，以入口文件所在目录<!-- /react-text --><br><!-- react-text: 636 -->
c. baseUrl<!-- /react-text --></p><!-- react-text: 637 -->
<!-- /react-text --><h4 data-line="401" class="line"><a id="422__401"></a><!-- react-text: 640 -->4.2.2 第一个模块抽离<!-- /react-text --></h4><!-- react-text: 641 -->
<!-- /react-text --><p>这一块基本也没有多说的，核心思想已经在上述章节中谈明白了。想表达的是大多数人在一开始都不会把结构规划的很合理，这个时候我们就是要去不断的试错，调整修改，最终达到一种理想效果。当最后抽象出一个通用的模型之后，工作效率就会很快了。</p><!-- react-text: 643 -->
<!-- /react-text --><h3 data-line="404" class="line"><a id="43_artTemplate_404"></a><!-- react-text: 646 -->4.3 <!-- /react-text --><code>artTemplate</code><!-- react-text: 648 -->使用的问题（追踪错误栈，读文档）<!-- /react-text --></h3><!-- react-text: 649 -->
<!-- /react-text --><p><!-- react-text: 651 -->这个错误是个低级错误，是不应该出现的。原因就是没有读清楚文档，想当然的在使用。<!-- /react-text --><strong>但是有时候工作中是会出现这种低级错误的，我们要做的就是查看错误信息或是查看文档的使用方式</strong><!-- react-text: 653 -->。<!-- /react-text --></p><!-- react-text: 654 -->
<!-- /react-text --><p><!-- react-text: 656 -->首先问题的起因是<!-- /react-text --><code>artTemplate</code><!-- react-text: 658 -->提供了一个<!-- /react-text --><code>template.render(str, data [, option])</code><!-- react-text: 660 -->方法来进行模板与数据的融合，而我使用成了<!-- /react-text --><code>template(str, data)</code><!-- react-text: 662 -->。最终报错为：<!-- /react-text --></p><!-- react-text: 663 -->
<!-- /react-text --><pre><code>TypeError: Cannot read property 'value' of null
    at Object.o [as loader] (http://localhost:3000/lib/js/art-template.js:267:21)
    at e (http://localhost:3000/lib/js/art-template.js:44:27)
    at o (http://localhost:3000/lib/js/art-template.js:189:20)
    at c (http://localhost:3000/lib/js/art-template.js:569:71)
    at loadTeacherTable (http://localhost:3000/js/teacherTable.js:3:19)
    at http://localhost:3000/lib/js/index.js:20:5
    at Object.execCb (http://localhost:3000/lib/js/require.js:1696:33)
    at Module.check (http://localhost:3000/lib/js/require.js:883:51)
    at Module.&lt;anonymous&gt; (http://localhost:3000/lib/js/require.js:1139:34)
    at http://localhost:3000/lib/js/require.js:134:23
    
    // 只复制了大体摘要，具体的错误栈呆会在调试图中看。
</code></pre><!-- react-text: 666 -->
<!-- /react-text --><p><!-- react-text: 668 -->从上述得出的错误信息就是：<!-- /react-text --><strong>Cannot read property 'value' of null</strong><!-- react-text: 670 -->。<!-- /react-text --><br><!-- react-text: 672 -->
最后运行到了<!-- /react-text --><strong><!-- react-text: 674 -->at Object.o [as loader] (<!-- /react-text --><a href="http://localhost:3000/lib/js/art-template.js:267:21">http://localhost:3000/lib/js/art-template.js:267:21</a><!-- react-text: 676 -->)<!-- /react-text --></strong><!-- react-text: 677 -->，即<!-- /react-text --><code>art-template.js</code><!-- react-text: 679 -->的267行21列。<!-- /react-text --></p><!-- react-text: 680 -->
<!-- /react-text --><p><!-- react-text: 682 -->我们点击此链接定位到出问题的代码部分，然后在此行打上一个断点，刷新页面会得到如下信息：<!-- /react-text --><br><img src="./index · 话述 · 看云_files/dc3b086617c3a77e2ea5f6b1d39543c0_1701x436.png" alt=""></p><!-- react-text: 685 -->
<!-- /react-text --><p>在这里我们可以看到两个重要信息：</p><!-- react-text: 687 -->
<!-- /react-text --><ul><li>各个参数的值是什么</li><li>调用栈都是什么</li></ul><!-- react-text: 691 -->
<!-- /react-text --><p><!-- react-text: 693 -->结合这些信息很容易理解错误信息，<!-- /react-text --><code>t</code><!-- react-text: 695 -->为<!-- /react-text --><code>null</code><!-- react-text: 697 -->，所以无法访问其<!-- /react-text --><code>value</code><!-- react-text: 699 -->和<!-- /react-text --><code>innerHTML</code><!-- react-text: 701 -->。那么是什么原因导致<!-- /react-text --><code>t</code><!-- react-text: 703 -->为<!-- /react-text --><code>null</code><!-- react-text: 705 -->呢？看上一行代码：<!-- /react-text --><code>var t = document.getElementById(e);</code><!-- react-text: 707 -->，<!-- /react-text --><code>e</code><!-- react-text: 709 -->的值是什么呢？可以很清晰的看出，<!-- /react-text --><code>e</code><!-- react-text: 711 -->其实是需要一个选择符来选择特定的<!-- /react-text --><code>DOM</code><!-- react-text: 713 -->元素，继而获取其<!-- /react-text --><code>innerHMTL</code><!-- react-text: 715 -->。而我们却把<!-- /react-text --><code>e</code><!-- react-text: 717 -->值传递成了模板字符串，自然是有问题的。<!-- /react-text --></p><!-- react-text: 718 -->
<!-- /react-text --><p><!-- react-text: 720 -->怎么看自己的代码哪里出问题了呢？看错误栈就好了，右边的错误栈很清晰的展示了函数进栈过程，看后边的文件名就知道调用了哪些你的代码。最终定位到了位于<!-- /react-text --><code>teacherTable.js</code><!-- react-text: 722 -->第三行的<!-- /react-text --><code>loadteacherTable</code><!-- react-text: 724 -->函数中的<!-- /react-text --><code>var str = template(tpl, data);</code><!-- react-text: 726 -->。如图：<!-- /react-text --><br><img src="./index · 话述 · 看云_files/de00f213f4658ec485792d2027167a76_1684x189.png" alt=""></p><!-- react-text: 729 -->
<!-- /react-text --><p><!-- react-text: 731 -->然后再去查看一下<!-- /react-text --><strong>官方文档</strong><!-- react-text: 733 -->的<!-- /react-text --><code>API</code><br><img src="./index · 话述 · 看云_files/67d171878d15f80094c6b793b4e5a171_811x517.png" alt=""></p><!-- react-text: 737 -->
<!-- /react-text --><p><img src="./index · 话述 · 看云_files/afb24b3e2d00a7c46e8f65bd4d941fc8_808x344.png" alt=""></p><!-- react-text: 740 -->
<!-- /react-text --><p>似乎就已经完全清楚问题所在了。</p><!-- react-text: 742 -->
<!-- /react-text --><h3 data-line="446" class="line"><a id="44_text_446"></a><!-- react-text: 745 -->4.4 text插件跨域问题<!-- /react-text --></h3><!-- react-text: 746 -->
<!-- /react-text --><p><!-- react-text: 748 -->因为我是直接通过<!-- /react-text --><code>file</code><!-- react-text: 750 -->协议访问文件的，即本地开发，没有在任何服务下。所以会出现这个跨域问题。<!-- /react-text --></p><!-- react-text: 751 -->
<!-- /react-text --><pre><code>text.js:325
XMLHttpRequest cannot load file:///C:/assets/boxuegu/tpls/teacherTable.html.
Cross origin requests are only supported for protocol schemes: http, data, chrome, chrome-extension, https.
</code></pre><!-- react-text: 754 -->
<!-- /react-text --><p><!-- react-text: 756 -->根据提示信息已经知道，跨域请求只支持那五种协议，而<!-- /react-text --><code>file</code><!-- react-text: 758 -->协议访问文件是不支持跨域（具体什么算是一个域，自行了解同源策略）的。<!-- /react-text --><br><!-- react-text: 760 -->
解决方案有两种，一是禁用掉<!-- /react-text --><code>chrome</code><!-- react-text: 762 -->的同源策略限制，这个在<!-- /react-text --><code>windows</code><!-- react-text: 764 -->下不太好用；二是自己在当前目录搞一个服务器，用<!-- /react-text --><code>http</code><!-- react-text: 766 -->协议访问文件不就可以了嘛（直接启动一个<!-- /react-text --><code>nodejs</code><!-- react-text: 768 -->服务就可以了）。<!-- /react-text --></p><!-- react-text: 769 -->
 <!-- /react-text --></div><!-- react-empty: 770 --></div><div class="article-navigation"></div><!-- react-empty: 772 --></div></div></div></div></div><!-- react-empty: 773 --></div></div>
<script type="application/payload+json">
    {
        "book":{"id":47248,"title":"\u8bdd\u8ff0","namespace":"felbry","name":"des","description":"","tags":null,"price":0,"status":1,"attention":0,"total_comment":0,"comment":0,"views":86,"is_comment":0,"is_auto_release":0,"is_public":1,"is_download":0,"is_kindle":1,"is_reward":0,"is_recommend":0,"recommend_time":null,"token":null,"domain":null,"commission_ratio":70,"is_shelve":0,"shelve_up_time":null,"shelve_down_time":null,"release_time":{"date":"2017-08-25 18:08:33.000000","timezone_type":3,"timezone":"PRC"},"delete_time":null,"create_time":{"date":"2017-08-21 10:57:52.000000","timezone_type":3,"timezone":"PRC"},"update_time":{"date":"2017-08-25 18:08:33.000000","timezone_type":3,"timezone":"PRC"},"cover":"https:\/\/cover.kancloud.cn\/felbry\/des","context":"normal"},
        "config":{"plugins":[]},
        "catalog":[{"id":386826,"book_id":47248,"pid":0,"name":"default.md","title":"index","sha":"20d9c1891da1d3a1d63493b34a56872c54d85fb4","sort":1,"comment":0,"is_probation":0,"create_time":{"date":"2017-08-25 14:07:07.000000","timezone_type":3,"timezone":"PRC"},"update_time":{"date":"2017-08-25 18:08:33.000000","timezone_type":3,"timezone":"PRC"},"index":0}],
        "article":{"id":386826,"book_id":47248,"pid":0,"name":"default.md","title":"index","sha":"20d9c1891da1d3a1d63493b34a56872c54d85fb4","content":"# \u535a\u5b66\u8c37\u9879\u76ee\u8bdd\u672f\n\n\u5728\u4e00\u4e2a\u9879\u76ee\u5f00\u59cb\u4e4b\u524d\uff0c\u5e94\u8be5\u5bf9\u6b64\u9879\u76ee\u7684\u6574\u4f53\u4e0a\u6709\u4e00\u4e2a\u5b8f\u89c2\u7684\u8ba4\u77e5\u3002\u5177\u4f53\u5305\u62ec\u9879\u76ee\u6709\u54ea\u4e9b\u529f\u80fd\uff08\u5373\u6d89\u53ca\u591a\u5c11\u4e2a\u9875\u9762\uff09\uff0c\u9879\u76ee\u4e2d\u8fd0\u7528\u5230\u54ea\u4e9b\u989d\u5916\u7684\u6280\u672f\uff08\u5982\u4e00\u7cfb\u5217\u6269\u5c55\u7684\u63d2\u4ef6\u7b49\uff09\u3002\u63a5\u4e0b\u6765\u5bf9\u9700\u8981\u653b\u514b\u7684\u6280\u672f\uff08\u4e4b\u524d\u672a\u63a5\u89e6\u8fc7\u7684\uff09\u5148\u505a\u4e00\u4e2a\u7b80\u5355\u7684\u4e86\u89e3\uff0c\u7136\u540e\u63a5\u4e0b\u6765\u5c31\u662f\u529f\u80fd\u5b9e\u73b0\u3002\n\n**\u5982\u4f55\u5f00\u59cb\u4e00\u4e2a\u9879\u76ee\u5462\uff1f**\n\u8981\u77e5\u9053\uff0c\u4e00\u4e2a\u9879\u76ee\u7cfb\u7edf\u662f\u5e9e\u5927\u7684\u3002\u521d\u671f\u6211\u4eec\u5df2\u7ecf\u8fdb\u884c\u4e86**\u529f\u80fd\u5206\u6790**\u548c**\u6280\u672f\u8bc4\u4f30**\uff0c\u8fd9\u91cc\u6709\u5fc5\u8981\u8be6\u7ec6\u8bf4\u4e00\u4e0b**\u529f\u80fd\u5206\u6790**\uff0c\u524d\u9762\u6ce8\u91ca\u8bf4\u529f\u80fd\u5206\u6790\u5c31\u662f\u770b\u770b\u603b\u5171\u6709\u591a\u5c11\u9875\u9762\uff0c\u8fd9\u79cd\u8bf4\u6cd5\u4e0d\u662f\u5f88\u51c6\u786e\uff0c\u56e0\u4e3a\u9875\u9762\u7684\u591a\u5c11\u57fa\u672c\u662f\u53ef\u4ee5\u4e00\u4e0b\u770b\u51fa\u6765\u7684\u3002\u6211\u4eec\u771f\u6b63\u505a\u7684\u662f\u53bb\u62bd\u79bb**\u6bcf\u4e2a\u9875\u9762**\u4e2d\u6d89\u53ca\u5230\u7684\u529f\u80fd\u6a21\u5757\u3002\u6bd4\u5982\u5bfc\u822a\u680f\u3001\u4fa7\u8fb9\u680f\u3001\u6dfb\u52a0\u8bb2\u5e08\u7684\u6a21\u6001\u6846\u8fd9\u4e9b\u4e1c\u897f\u3002\n\u8fd9\u4e9b\u6a21\u5757\u6709\u4e9b\u662f\u591a\u4e2a\u9875\u9762\u516c\u7528\u7684\uff0c\u6240\u6709\u4e5f\u53ef\u4ee5\u79f0\u4e3a\u57fa\u7840\/\u901a\u7528\u6a21\u5757\u3002\u800c\u6211\u4eec\u4e00\u5f00\u59cb\u7684\u5de5\u4f5c\u5c31\u662f\u8981\u5f00\u53d1\u8fd9\u4e9b\u6a21\u5757\u3002\u53ef\u4ee5\u628a\u505a\u9879\u76ee\u60f3\u8c61\u6210\u76d6\u623f\uff0c\u6240\u4ee5\u4e00\u5f00\u59cb\u6211\u4eec\u8981\u5148\u51c6\u5907\u7816\uff0c\u6709\u4e86\u7816\u4e4b\u540e\u540e\u7eed\u6bcf\u95f4\u623f\u5c31\u662f\u5806\u780c\u7684\u8fc7\u7a0b\u3002\n**\u5728\u5f00\u59cb\u6a21\u5757\u5f00\u53d1\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u6839\u636e\u81ea\u8eab\u60c5\u51b5\u5bf9\u7b2c\u4e00\u9636\u6bb5\u7684\u6280\u672f\u8bc4\u4f30\u8fdb\u884c\u5206\u6790\u3002**\n\n## 1. \u6280\u672f\u9009\u578b\u4e0e\u8bc4\u4f30\n\n\u4ee5\u4e0b\u60c5\u51b5\u5747\u4ee5\u6211\u81ea\u8eab\u4e3a\u4f8b\uff0c\u5bf9\u535a\u5b66\u8c37\u9879\u76ee\u8fdb\u884c\u6280\u672f\u8bc4\u4f30\n\n### 1.1 \u5df2\u7ecf\u638c\u63e1\u7684\u6280\u672f\u6808\n- HTML\/CSS\/JAVASCRIPT \uff08\u8fd9\u4e2a\u76f8\u5f53\u4e8e\u5e9f\u8bdd\uff09\n- Bootstrap \uff08\u56e0\u4e3a\u6ca1\u6709UI\u56fe\uff0c\u5f00\u53d1\u4e2d\u6211\u4eec\u76f4\u63a5\u4f7f\u7528\u73b0\u6210\u5e93\u7684\u6837\u5f0f\u548c\u7ec4\u4ef6\uff09\n- jQuery \uff08\u4e3b\u8981\u662fDOM\u64cd\u4f5c\u53ca\u7f51\u7edc\u8bf7\u6c42\uff09\n- \u7528\u6237\u8ba4\u8bc1\u673a\u5236cookie\/session\uff08\u76ee\u524djsonwebtoken\uff0c\u7b80\u79f0jwt\u7528\u7684\u4e5f\u6bd4\u8f83\u591a\uff0c\u4e5f\u6709\u5f88\u591a\u4f18\u70b9\uff09\n- git \uff08\u8fd9\u4e2a\u4e0d\u662f\u786c\u6027\u6280\u672f\u8981\u6c42\uff0c\u4f46\u662f\u5f00\u53d1\u534f\u4f5c\u3001\u7248\u672c\u63a7\u5236\u90fd\u7528\u7684\u5230\uff09\n\n### 1.2 \u672a\u63a5\u89e6\u7684\u6280\u672f\u6808\n**\u7d27\u6025**\n\u5047\u8bbe\u6ca1\u6709\u901a\u8fc7\u89c6\u9891\u5b66\u4e60\u8fc7\u3002\n- requirejs\uff08\u56e0\u4e3a\u9879\u76ee\u8981\u4ee5\u6a21\u5757\u5f62\u5f0f\u5f00\u53d1\uff0c\u6240\u4ee5\u5f00\u59cb\u4e4b\u524d\u4e00\u5b9a\u8981\u5148\u4e86\u89e3\u638c\u63e1\uff09\n- artTemplate \uff08\u642d\u914drequirejs\u7684text\u63d2\u4ef6\uff0c\u5b9e\u73b0\u6a21\u5757\u5f00\u53d1\uff09\n\n**\u4e0d\u7d27\u6025**\n\u4e0d\u7d27\u6025\u7684\u610f\u601d\u5c31\u662f\u6b64\u6280\u672f\u4ec5\u6d89\u53ca\u5230\u4e00\u4e24\u4e2a\u6a21\u5757\u7684\u4f7f\u7528\uff0c\u5373\u4f7f\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u4e5f\u53ef\u4ee5\u6682\u65f6\u6401\u7f6e\uff0c\u7b49\u9879\u76ee\u540e\u671f\u518d\u5b9e\u73b0\u3002\n- UEditor\uff08\u4e2a\u4eba\u4e2d\u5fc3\u6a21\u5757\u6d89\u53ca\uff09\n- \u65e5\u671f\u63d2\u4ef6\uff08\u6dfb\u52a0\u8bb2\u5e08\u6a21\u5757\u6d89\u53ca\uff09\n\n## 2. \u529f\u80fd\/\u901a\u7528\u6a21\u5757\u5f00\u53d1\n\u65e2\u7136\u6d89\u53ca\u5230\u6587\u4ef6\u7684\u521b\u5efa\u4e86\uff0c\u8fd9\u65f6\u5019\u5c31\u8be5\u8003\u8651\u4e00\u4e0b\u6587\u4ef6\u5b58\u50a8\u76ee\u5f55\u4e86\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u8981\u89c4\u5212\u4e00\u4e0b\u9879\u76ee\u76ee\u5f55\u7ed3\u6784\u3002\n\n### 2.1 \u6587\u4ef6\u76ee\u5f55\u521b\u5efa\n\u5148\u7b80\u5355\u603b\u7ed3\u4e00\u4e0b\u65e5\u5e38\u5e38\u7528\u7684\u4e00\u4e9b\u76ee\u5f55\uff1a\n- src\uff1asource\u7684\u7f29\u5199\uff0c\u5373\u8d44\u6e90\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u4f60\u7f16\u5199\u7684\u6e90\u7801\uff08\u6240\u6709\u6587\u4ef6\uff09\u3002\n- lib\uff1alibrary\u7684\u7f29\u5199\uff0c\u5373\u5e93\u6587\u4ef6\u3002\n- dist\uff1adistribution\u7684\u7f29\u5199\uff0c\u5373\u5206\u53d1\u3002\u8fd9\u91cc\u6211\u4eec\u7528\u4e0d\u5230\uff0c\u4f46\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e00\u4e0b\u3002\u6240\u8c13\u5206\u53d1\u3001\u8c03\u914d\u5c31\u662f\u8981\u4f20\u7ed9\u7279\u5b9a\u4eba\u4f7f\u7528\u7684\u6587\u4ef6\u5939\uff0c\u5b83\u53ef\u4ee5\u8868\u793a\u6210\u4e00\u79cd\u6700\u7ec8\u5f62\u6001\u3002\u5f53\u5728\u67d0\u4e9b\u5f00\u53d1\u73af\u5883\u4e0b\uff0c\u6bd4\u5982\u5728\u4f7f\u7528\u4e00\u4e2a\u6846\u67b6\u5f00\u53d1\u7684\u65f6\u5019\uff08vue\/react\uff09\uff0c\u6211\u4eec\u6240\u7f16\u5199\u7684\u6e90\u7801\u6587\u4ef6\u662f\u4e0d\u80fd\u591f\u76f4\u63a5\u4e22\u5230\u751f\u4ea7\u73af\u5883\u4e0a\u4f7f\u7528\u7684\uff1b\u56e0\u4e3a\u6d4f\u89c8\u5668\u53ea\u8bc6\u522bhtml\/css\/js\u8fd9\u6837\u7684\u6587\u4ef6\u7c7b\u578b\uff0c\u800c\u4e0d\u8bc6\u522b\u4ee5.vue\u4e3a\u540e\u7f00\u7684\u6587\u4ef6\uff0c\u6240\u4ee5\u9700\u8981\u901a\u8fc7**\u7f16\u8bd1\u6253\u5305**\u7684\u65b9\u5f0f\u5c06vue\u6587\u4ef6\u7c7b\u578b\u8f6c\u6362\u4e3a\u5bf9\u5e94\u7684html\/css\/js\u6587\u4ef6\u7c7b\u578b\uff1b\u53ef\u4ee5\u7406\u89e3\u4e3a\u5c06src\u6587\u4ef6\u5939\u4e0b\u7684\u6587\u4ef6\u901a\u8fc7\u7f16\u8bd1\uff0c\u6253\u5305\u5230\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6\u5939dist\u76ee\u5f55\u4e0b\uff0c\u8fd9\u4e2adist\u76ee\u5f55\u5c31\u53ef\u4ee5\u63d0\u4ea4\u5230\u751f\u4ea7\u73af\u5883\u4e0b\u4f7f\u7528\u4e86\u3002\n\n\u9664\u4e86\u4e0a\u8ff0\u5217\u4e3e\u7684\uff0c\u8fd8\u6709\u4e00\u4e9b\u7c7b\u4f3c\/js, \/css, \/imgs, \u8fd9\u6837\u7684\u76ee\u5f55\uff1b\u5982\u679c\u662f\u540e\u7aef\u5f00\u53d1\uff0c\u91c7\u7528MVC\u6a21\u5f0f\u7684\u601d\u60f3\uff0c\u4e5f\u4f1a\u6709\u5bf9\u5e94\u7684controller\uff0cmodel\uff0cdao\/db\uff08\u6570\u636e\u5e93\u64cd\u4f5c\uff09\u8fd9\u6837\u7684\u6587\u4ef6\u5939\u3002\u800c\u5728\u672c\u9879\u76ee\u4e2d\uff0c\u7531\u4e8e\u8981\u4f7f\u7528\u6a21\u677f\u6587\u4ef6\uff0c\u6211\u4eec\u4e5f\u4f1a\u521b\u5efa\u4e00\u4e2a\u5bf9\u5e94\u7684tpls\u6587\u4ef6\u5939\u5b58\u653e\u6a21\u677f\u3002\n\u603b\u4e4b\uff0c\u5728\u521b\u5efa\u6216\u6d4f\u89c8\u76ee\u5f55\u65f6\uff0c\u5982\u679c\u6709\u7591\u60d1\uff0c\u5c31\u8981\u968f\u65f6\u67e5\u8be2\u4e86\u89e3\u6e05\u695a\u3002\u5408\u7406\u7684\u76ee\u5f55\u7ed3\u6784\u6709\u5229\u4e8e\u9879\u76ee\u7684\u5f00\u53d1\uff0c\u540c\u65f6\u4e5f\u65b9\u4fbf\u5927\u5bb6\u5feb\u901f\u7406\u89e3\u4f60\u7684\u9879\u76ee\u3002\n\n\u901a\u8fc7\u5bf9\u9879\u76ee\u7684\u5206\u6790\uff0c\u6682\u4e14\u521b\u5efa\u5982\u4e0b\u5f00\u53d1\u76ee\u5f55\uff1a\n\n\u251c\u2500css\n\u251c\u2500imgs\n\u251c\u2500js\n\u251c\u2500lib \uff08\u5b58\u653e\u6211\u4eec\u6240\u9700\u7684\u5e93\uff09\n\u2502  \u251c\u2500css\n\u2502  \u2502      bootstrap.css\n\u2502  \u2502\n\u2502  \u2514\u2500js\n\u2502          art-template.js\n\u2502          bootstrap.js\n\u2502          jquery-3.2.1.js\n\u2502          require.js\n\u2502          text.js\uff08requirejs\u7684\u63d2\u4ef6\uff09\n\u2502\n\u251c\u2500tpls\n\u2514\u2500views\uff08\u9875\u9762\u6587\u4ef6\uff0c\u5982index.html\u3001courseManage.html\u7b49\uff09\n\n\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u76ee\u5f55\u7ed3\u6784\u4e0a\u53ef\u6839\u636e\u4e2a\u4eba\u7406\u89e3\u505a\u9002\u5f53\u8c03\u6574\uff0c\u8fd9\u4e2a\u6ca1\u6709\u4ec0\u4e48\u89c4\u8303\u3002\u518d\u8005\u662f\u76ee\u5f55\u521d\u671f\u6839\u636e\u9700\u8981\u5efa\u7acb\u5c31\u53ef\u4ee5\u4e86\uff0c\u4e0d\u53ef\u80fd\u662f\u5f00\u59cb\u5c31\u4e00\u4e0b\u5168\u90e8\u8003\u8651\u5230\u7684\u3002\n**Note**\uff1a\u6709\u4e9b\u6846\u67b6\u63d0\u4f9b\u7684**\u811a\u624b\u67b6**\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5feb\u901f\u751f\u6210\u9879\u76ee\u7ed3\u6784\u6587\u4ef6\uff0c\u6bd4\u5982vue-cli\u3002\u53ea\u9700\u8981\u5728\u547d\u4ee4\u884c\u8fd0\u884c\u4e00\u4e2a`vue new projectName`\u5373\u53ef\u4e00\u952e\u751f\u6210\u9879\u76ee\u5f00\u53d1\u76ee\u5f55\u3002\u4f46\u4f7f\u7528\u811a\u624b\u67b6\u7684\u524d\u63d0\u662f\u4f60\u5145\u5206\u7406\u89e3\u4e86\u5404\u4e2a\u6587\u4ef6\u5939\u4e0b\u6587\u4ef6\u7684\u529f\u80fd\uff0c\u4e0d\u7136\u540e\u671f\u5982\u679c\u6709\u989d\u5916\u7684\u9700\u6c42\u8981\u6539\u52a8\u6587\u4ef6\u6216\u8005\u51fa\u4e86\u4e00\u4e9b\u5c0f\u95ee\u9898\uff0c\u4f60\u5c31\u4f1a\u624b\u8db3\u65e0\u63aa\u4e86\u3002**\u5f53\u4f60\u7ecf\u5e38\u505a\u67d0\u4e00\u7c7b\u578b\u9879\u76ee\u800c\u9891\u7e41\u7684\u642d\u5efa\u5f00\u53d1\u73af\u5883\u7684\u65f6\u5019\uff0c\u5c31\u53ef\u4ee5\u5229\u7528\u67d0\u4e9b\u5de5\u5177\u5236\u4f5c\u81ea\u5df1\u7684\u811a\u624b\u67b6\uff0c\u6bd4\u5982Yeoman\u5c31\u662f\u4e2a\u4e0d\u9519\u7684\u5de5\u5177\u3002\u5f53\u7136\uff0c\u505a\u4e00\u4e2agit\u4ed3\u5e93\u6bcf\u6b21\u514b\u9686\u4e0b\u6765\u91cd\u590d\u4f7f\u7528\u4e5f\u662f\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\uff0c\u4f46\u662f\u6ca1\u6709Yeoman\u7075\u6d3b\u3002**\n\n### 2.2 \u7b2c\u4e00\u4e2a\u6a21\u5757\n\u9879\u76ee\u76ee\u5f55\u642d\u597d\u4e86\uff0c\u7b2c\u4e00\u6b65\u6280\u672f\u8bc4\u4f30\u4e2d\u8003\u8651\u5230\u7684\u5e93\u6211\u4eec\u4e5f\u90fd\u5206\u522b\u4e0b\u8f7d\u7ec4\u7ec7\u597d\u4e86\uff0c\u90a3\u5c31\u53ef\u4ee5\u5f00\u59cb\u7b2c\u4e8c\u6b65\u7684\u6a21\u5757\u5f00\u53d1\u4e86\u3002\u4e3a\u4ec0\u4e48\u8981\u5148\u5f00\u53d1\u6a21\u5757\u5462\uff0c\u8fd8\u662f\u4e4b\u524d\u8bf4\u7684\uff0c\u65e2\u7136\u8981\u76d6\u623f\uff0c\u5c31\u8981\u5148\u51c6\u5907\u7816\uff08\u6a21\u5757\uff09\u3002\u8fb9\u5f00\u53d1\u9879\u76ee\u8fb9\u751f\u4ea7\u6a21\u5757\u53ef\u4ee5\u5417\uff1f\u5f53\u7136\u4e5f\u662f\u53ef\u4ee5\u7684\uff0c\u6bcf\u4e2a\u4eba\u90fd\u6709\u6bcf\u4e2a\u4eba\u7684\u601d\u7ef4\u65b9\u5f0f\u561b\u3002\u4f46\u662f\u60f3\u4e00\u4e0b\u5c31\u77e5\u9053\uff0c\u662f\u8fd0\u4e00\u70b9\u7816\u8fc7\u6765\u76d6\u4e00\u70b9\u597d\uff0c\u8fd8\u662f\u76f4\u63a5\u51c6\u5907\u597d\u7816\u4e00\u6b65\u76d6\u9f50\u597d\u5462\u3002**\u5f53\u7136\uff0c\u6211\u8fd9\u91cc\u5f3a\u8c03\u7684\u662f\u7406\u60f3\u72b6\u6001\u3002\u5728\u65b0\u624b\u7684\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u786e\u5b9e\u662f\u5148\u6709\u4e00\u4e2a\u4e3b\u6587\u4ef6\uff0c\u7136\u540e\u5f00\u53d1\u4e00\u4e2a\u6a21\u5757\uff0c\u5f15\u5165\u4e3b\u6587\u4ef6\u8c03\u8bd5\uff1b\u518d\u63a5\u7740\u5f00\u53d1\u53e6\u4e00\u4e2a\u6a21\u5757\u3002\u7b49\u5230\u540e\u671f\u968f\u7740\u5f00\u53d1\u601d\u60f3\u6210\u719f\u4e4b\u540e\uff0c\u4f60\u5c31\u53ef\u4ee5\u8131\u79bb\u4e3b\u6587\u4ef6\u7684\u9650\u5236\uff0c\u4f18\u5148\u5f00\u53d1\u5168\u90e8\u6a21\u5757\u4e86\u3002**\n\n\u6211\u4eec\u4ee5`\u4f18\u5148\u5f00\u53d1\u5168\u90e8\u6a21\u5757`\u7684\u65b9\u5f0f\u6765\u5904\u7406\uff1a\u65e2\u7136\u662f\u4e00\u4e2a\u6a21\u5757\uff0c\u90a3\u5b83\u4e00\u5b9a\u4e0d\u662f\u4e00\u4e2a\u5b8c\u6574\u7684html\u6587\u6863\uff0c\u5b83\u53ea\u662f\u4e00\u4e2ahtml\u4ee3\u7801\u7247\u6bb5\uff0c\u90a3\u5982\u4f55\u72ec\u7acb\u5bf9\u5176\u8fdb\u884c\u8c03\u8bd5\u5462\uff1f\n\n\u8fd9\u91cc\u53ef\u4ee5\u5148\u56de\u987e\u4e00\u4e0b\u8001\u5e08\u662f\u600e\u4e48\u6559\u7684\uff1a\u5148\u662f\u6709\u4e86\u4e00\u4e2a`index.html`\u6587\u4ef6\uff08\u4e3b\u6587\u4ef6\uff09\uff0c\u7136\u540e\u5728tpls\u5199\u4e0a\u6a21\u5757\u7684\u4ee3\u7801\u6bb5\uff0c\u6700\u540e\u5728`index.html`\u4e2d\u901a\u8fc7`requirejs`\u5f15\u5165\u6a21\u677f\u4ee3\u7801\uff0c\u4ece\u800c\u5b9e\u73b0\u586b\u5145\u3002\u8fd9\u4e2a\u601d\u60f3\u5e94\u8be5\u5c31\u662f\u6211\u4eec\u5728\u521d\u671f\u8981\u5b66\u4f1a\u7684\u3002\u73b0\u5728\u6211\u4eec\u629b\u51fa\u4e00\u4e2a\u95ee\u9898\uff1a\u5982\u679c\u7ec6\u5fc3\u601d\u8003\u8fc7\u7684\u540c\u5b66\u4f1a\u53d1\u73b0\uff0c\u8001\u5e08\u5728\u524d\u671f\u8bb2\u89e3\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e3a\u4e86\u65b9\u4fbf\u5c55\u793a\uff0c\u5728\u5f15\u5165\u6a21\u677f\u7684html\u4ee3\u7801\u6bb5\u540e\uff0c\u76f4\u63a5\u5c06**\u4e0e\u6a21\u677f\u76f8\u5173\u8054\u7684js\u903b\u8f91**\uff08\u6bd4\u5982\u4e8b\u4ef6\u59d4\u6258\uff09\u4e5f\u4e00\u5e76\u5199\u5728\u4e86`index.html`\u9875\u9762\u4e2d\u3002\u90a3\u8fd9\u6837\u7684\u8bdd\u7b97\u662f\u6807\u51c6\u7684\u6a21\u5757\u5316\u5f00\u53d1\u5417\uff1f\u5927\u5bb6\u53ef\u4ee5\u81ea\u5df1\u601d\u8003\u4e00\u4e0b\u3002\n\n\u56de\u5f52\u6b63\u9898\uff1a\u5982\u4f55\u72ec\u7acb\u8c03\u8bd5\u6a21\u5757\uff1f\u5176\u5b9e\u601d\u60f3\u548c\u4e0a\u8ff0\u65b9\u5f0f\u5dee\u4e0d\u591a\uff0c\u53ea\u662f\u8fd9\u6b21\u771f\u7684\u4e13\u6ce8\u4e8e\u7f16\u5199\u4e00\u4e2a\u6a21\u5757\u800c\u5df2\uff08\u8131\u79bb\u4e3b\u6587\u4ef6\uff09\u3002\n\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u7c7b\u4f3c\u4e8e\u4e0b\u9762\u7684`universal.html`\u6587\u4ef6:\n```\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Module<\/title>\n<\/head>\n<body>\n    <!-- \u8fd9\u91cc\u662f\u6a21\u677f\u7684html\u90e8\u5206 -->\n    <script>\n        \/\/ \u8fd9\u91cc\u662f\u6a21\u677f\u7684js\u90e8\u5206\n    <\/script>\n<\/body>\n<\/html>\n```\n\u6709\u65f6\u5019\u8fd9\u4e9b\u8fd8\u4e0d\u591f\uff0c\u53ef\u80fd\u8fd8\u9700\u8981\u5f15\u5165\u51e0\u4e2a\u5e93\u6587\u4ef6\uff0c\u6dfb\u52a0\u540e\u7684\u6548\u679c\u5982\u4e0b\uff1a\n```\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <link rel=\"stylesheet\" href=\"..\/lib\/css\/bootstrap.css\">\n    <title>Module<\/title>\n<\/head>\n<body>\n    <!-- \u8fd9\u91cc\u662f\u6a21\u677f\u7684html\u90e8\u5206 -->\n    <script src=\"..\/lib\/js\/jquery-3.2.1.js\"><\/script>\n    <script src=\"..\/lib\/js\/bootstrap.js\"><\/script>\n    <script src=\"..\/lib\/js\/art-template.js\"><\/script>\n    <script>\n        \/\/ \u8fd9\u91cc\u662f\u6a21\u677f\u7684js\u90e8\u5206\n    <\/script>\n<\/body>\n<\/html>\n```\n\n#### 2.2.1 teacherTable.html\n\u518d\u6b21\u56de\u60f3\u4e00\u4e0b\u8001\u5e08\u662f\u600e\u4e48\u628a\u6a21\u677f\u6587\u4ef6\u7ec4\u88c5\u8fdb`index.html`\u9875\u9762\u7684\uff1a\u901a\u8fc7`requirejs`\u7684`text`\u63d2\u4ef6\u5c06\u4e00\u4e2ahtml\u6587\u4ef6\u8f6c\u6362\u6210\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u4e22\u8fdb`artTemplate`\u5b9e\u4f8b\u7684\u65b9\u6cd5\u4e2d\u4e0e\u6570\u636e\u8fdb\u884c\u7f16\u8bd1\u6e32\u67d3\u3002\u663e\u7136\u8fd9\u5176\u4e2d\u5305\u542b\u4e24\u90e8\u5206\uff1a\n- \u6a21\u677f\u7684\u5b57\u7b26\u4e32\n- \u4e00\u4e2a\u5b9e\u4f8b\u65b9\u6cd5\uff08`template.render(string, data)`\uff09\n\n\u90a3\u5f53\u6211\u4eec\u5c06\u8fd9\u4e9b\u5185\u5bb9\u90fd\u5199\u8fdb\u4e00\u4e2a\u5b8c\u6574\u7684\u6587\u4ef6\uff08`teacherTable.html`\uff09\u4e2d\uff0c`js`\u5982\u4f55\u5f97\u5230\u6a21\u677f\u5b57\u7b26\u4e32\u5462\uff0c\u7b54\u6848\u5f88\u7b80\u5355\uff1a`innerHTML`\u3002\n\u7136\u540e\u8c03\u7528\u4e86`template.render(string, data)`\u65b9\u6cd5\u5f97\u5230\u6e32\u67d3\u540e\u7684\u5b57\u7b26\u4e32\u3002\n\n\u7136\u540e\u7f16\u5199\u6d4b\u8bd5\u5b8c\u5c55\u793a\u6548\u679c\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5206\u522b\u5c06\u5176\u4e2d\u7684\u5185\u5bb9\u62bd\u79bb\u51fa\u6765\u653e\u5230\u5bf9\u5e94\u7684\u6587\u4ef6\u4e2d\u4e86\u3002\u6bd4\u5982\u8fd9\u91cc\u5148\u5f00\u53d1`teacherTable`\u7ec4\u4ef6\uff0c\u90a3\u4e48\u6211\u4eec\u5c06\u5bf9\u5e94\u7684\u4ee3\u7801\u62bd\u79bb\u51fa\u6765\u5206\u522b\u521b\u5efa`teacherTable.html`\uff0c `teacherTable.js` \u6587\u4ef6\u3002\u6709\u65f6\u53ef\u80fd\u8fd8\u4f1a\u6709`teacherTable.css`\u6587\u4ef6\u3002\n\n\u63a5\u4e0b\u6765\u5c31\u662f\u4e00\u4e2a\u5b8c\u6574\u7684`teacherTable.html`\u6587\u4ef6\u4ee3\u7801\n```\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <link rel=\"stylesheet\" href=\"..\/lib\/css\/bootstrap.css\">\n    <title>Module<\/title>\n<\/head>\n<body>\n    <!-- \u8fd9\u91cc\u662f\u6a21\u677f\u7684html\u90e8\u5206 -->\n    <script id=\"tpl-teacherTable-str\" type=\"text\/html\">\n        <table id=\"tpl-teacherTable\" class=\"table table-bordered\">\n            <thead>\n                <tr>\n                    <th>\u8bb2\u5e08\u7f16\u53f7<\/th>\n                    <th>\u59d3\u540d<\/th>\n                    <th>\u6635\u79f0<\/th>\n                    <th>\u6027\u522b<\/th>\n                    <th>\u624b\u673a<\/th>\n                    <th>\u90ae\u7bb1<\/th>\n                    <th>\u51fa\u751f\u65e5\u671f<\/th>\n                    <th>\u5165\u804c\u65e5\u671f<\/th>\n                    <th>\u8d26\u6237\u72b6\u6001<\/th>\n                    <th>\u64cd\u4f5c<\/th>\n                <\/tr>\n            <\/thead>\n            <tbody>\n                <!-- target \u5e94\u8be5\u662f\u4f20\u53c2\u7684\u952e -->\n                {{each teacherData}}\n                    <tr>\n                        <td>{{$value.tc_id}}<\/td>\n                        <td>{{$value.tc_name}}<\/td>\n                        <td>{{$value.tc_roster}}<\/td>\n                        <td>{{if $value.tc_gender}}\u7537{{else}}\u5973{{\/if}}<\/td>\n                        <td>{{$value.tc_cellphone}}<\/td>\n                        <td>{{$value.tc_email}}<\/td>\n                        <td>{{$value.tc_birthday}}<\/td>\n                        <td>{{$value.tc_join_date}}<\/td>\n                        <td>{{if $value.tc_status}}\u542f\u7528{{else}}\u6ce8\u9500{{\/if}}<\/td>\n                        <td>\n                            <button class=\"btn btn-success btn-sm\" data-info=\"{{$value}}\" type=\"button\">\u67e5\u770b<\/button>\n                            <button class=\"btn btn-primary btn-sm\" data-info=\"{{$value}}\" type=\"button\">\u7f16\u8f91<\/button>\n                            <button class=\"btn btn-info btn-sm\" data-info=\"{{$value}}\" type=\"button\">\u542f\u7528<\/button>\n                        <\/td>\n                    <\/tr>\n                {{\/each}}\n            <\/tbody>\n        <\/table>\n    <\/script>\n    <script src=\"..\/lib\/js\/jquery-3.2.1.js\"><\/script>\n    <script src=\"..\/lib\/js\/bootstrap.js\"><\/script>\n    <script src=\"..\/lib\/js\/art-template.js\"><\/script>\n    <script>\n        \/\/ \u6e32\u67d3\n        var str = template.render($('#tpl-teacherTable-str')[0].innerHTML, {\n            teacherData: [\n                {\n                    \"tc_id\": 2,\n                    \"tc_name\": \"\u674e\u6e05\u7167\",\n                    \"tc_roster\": \"\u6613\u5b89\u5c45\u58eb\",\n                    \"tc_gender\": 1,\n                    \"tc_cellphone\": \"18500409233\",\n                    \"tc_email\": \"linan@itcast.cn\",\n                    \"tc_status\": 0,\n                    \"tc_birthday\": \"1991-03-01\",\n                    \"tc_join_date\": \"2015-09-30\"\n                },\n                {\n                    \"tc_id\": 9,\n                    \"tc_name\": \"\u4ee4\u72d0\u51b2\",\n                    \"tc_roster\": \"\u653b\u57ce\u72ee\",\n                    \"tc_gender\": 0,\n                    \"tc_cellphone\": \"\",\n                    \"tc_email\": \"\",\n                    \"tc_status\": 0,\n                    \"tc_birthday\": \"1970-01-01\",\n                    \"tc_join_date\": \"1970-01-01\"\n                }\n            ]\n        });\n        document.body.innerHTML = str;\n        \/\/ \u4e8b\u4ef6\u59d4\u6258\n        $('#tpl-teacherTable')\n            .on('click', '.btn-success', lookClick)\n            .on('click', '.btn-primary', editClick)\n            .on('click', '.btn-info', statusClick);\n        function lookClick () {\n            \/\/ \u8fd9\u91cc\u5047\u8bbe\u6709\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf currentInfo\uff0c\u4e3a\u67e5\u770b\u548c\u7f16\u8f91\u6a21\u6001\u6846\u63d0\u4f9b\u72b6\u6001\u503c\n            currentInfo = JSON.parse($(this).attr('data-info'));\n            $('#tpl-teacherInfo').modal('show');\n        }\n        function editClick () {\n            currentInfo = JSON.parse($(this).attr('data-info'));\n            $('#tpl-teacherEdit').modal('show');\n\n            \/\/ \u5237\u65b0\u6570\u636e\uff0c\u539f\u7406\u540c\u4e0b\u5dee\u4e0d\u591a\n        }\n        function statusClick () {\n            var info = JSON.parse($(this).attr('data-info'));\n            \/\/ \u8bf7\u6c42\u66f4\u6539\u72b6\u6001\u63a5\u53e3\n\n            \/\/ \u82e5\u6210\u529f\uff0c\u66f4\u65b0 $(this) \u7684data-info\u503c\u53ca\u6309\u94ae\u72b6\u6001\n            info.tc_status = res.result.tc_status;\n            $(this).attr('data-info') = info;\n            $(this).text() = $(this).text() == '\u542f\u7528' ? '\u6ce8\u9500' : '\u542f\u7528';\n        }\n    <\/script>\n<\/body>\n<\/html>\n```\n\n**\u6ce8\u610f**\uff1a\u8fd9\u91cc\u6709\u51e0\u4e2a\u70b9\u8fd8\u6ca1\u6709\u89e3\u51b3\uff1a\n- \u7f51\u7edc\u8bf7\u6c42\uff08\u5b9e\u9645\u5f00\u53d1\u4e2d\u6d89\u53ca\u5230\u524d\u540e\u7aef\u6570\u636e\u5bf9\u63a5\uff0c\u90a3\u4e48\u524d\u7aef\u5728\u5f00\u53d1\u4e2d\u8fd8\u6ca1\u6709\u540e\u7aef\u63d0\u4f9b\u7684\u6570\u636e\u600e\u4e48\u529e\u5462\uff1f\u90a3\u5c31\u662f\u6309\u7167\u7ea6\u5b9a\u597d\u7684\u63a5\u53e3\u6587\u6863\u6a21\u62df\u51fa\u4e00\u4e9b\u7b80\u5355\u7684\u4f2a\u6570\u636e\u3002\u968f\u540e\u7b49\u540e\u7aef\u63a5\u53e3\u5b8c\u5584\u597d\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u7f51\u7edc\u8bf7\u6c42\u8bf7\u6c42\u8fd9\u4e9b\u771f\u5b9e\u7684\u6570\u636e\u5b9e\u73b0\u6e32\u67d3\uff09\n- \u72b6\u6001\u53d8\u66f4\uff08\u8fd9\u91cc\u6d89\u53ca\u5230\u4e86\u6a21\u5757\u4e4b\u5916\u7684**\u72b6\u6001**\uff0c\u6bd4\u5982`currentInfo`\u3002\u5728\u6a21\u5757\u4e4b\u5916\u7684\u53d8\u91cf\u6709\u65f6\u5019\u6211\u4eec\u4e0d\u597d\u628a\u63a7\u3002\u8fd9\u4e2a\u65f6\u5019\u4e4b\u524d\u8001\u5e08\u6f14\u793a\u7684\u90a3\u79cd\u76f4\u63a5\u628a`js`\u903b\u8f91\u5168\u90e8\u5199\u5728`index.html`\u4e2d\u7684\u597d\u5904\u5c31\u4f53\u73b0\u51fa\u6765\u4e86\uff0c\u7b80\u5355\u7c97\u66b4\uff0c\u6e05\u6670\u6613\u61c2\u3002\u4f46\u662f\uff0c\u6210\u719f\u7684\u6846\u67b6\u662f\u6709**\u7ec4\u4ef6\u95f4\u901a\u4fe1**\u53ca**\u5168\u5c40\u72b6\u6001\u7ba1\u7406**\u673a\u5236\u7684\uff0c\u4ece\u53e6\u4e00\u65b9\u9762\u4e5f\u8bc1\u660e\u4e86\uff0c\u6846\u67b6\u89e3\u51b3\u4e86\u6211\u4eec\u5f00\u53d1\u4e2d\u7684\u8fd9\u4e9b\u75db\u70b9\uff09\n\n\u6211\u89c9\u5f97\u5728\u8fd9\u4e2a\u65f6\u5019\u5e94\u8be5\u7ed9\u5927\u5bb6\u8d34\u4e00\u5f20\u73b0\u5728\u975e\u5e38\u6d41\u884c\u7684`vue`\u6846\u67b6\u7684\u4e00\u4e2a\u5c0f\u6587\u4ef6\u5185\u5bb9\uff08\u5b83\u5c31\u662f\u4ee5\u7ec4\u4ef6`component`\u5f62\u5f0f\u5f00\u53d1\u7684\uff09\u3002\u770b\u5b8c\u4e4b\u540e\u6709\u6ca1\u6709\u89c9\u5f97\u975e\u5e38\u719f\u6089\u7684\u611f\u89c9\uff1f\u5b83\u5176\u5b9e\u5c31\u662f\u6211\u4eec\u4e0a\u8ff0\u6240\u8ff0\u7684\u6807\u51c6\u6a21\u5757\uff08\u4e00\u4e2a\u6a21\u5757\u5305\u542b`css\/html\/js`\u7684\u5168\u90e8\u5185\u5bb9\uff09\u5f62\u5f0f\u3002\u53ea\u4e0d\u8fc7`vue`\u6587\u4ef6\u53ef\u4ee5\u901a\u8fc7`webpack`\u5de5\u5177\u6253\u5305\u6784\u5efa\u6210\u5bf9\u5e94\u7684`html\/css\/js`\u6587\u4ef6\uff0c\u800c\u6211\u4eec\u5219\u9700\u8981\u624b\u52a8\u590d\u5236\u521b\u5efa\u6587\u4ef6\u4e86~\n![vue\u6587\u4ef6](https:\/\/vuefe.cn\/images\/vue-component.png)\n\n\u6309\u7167\u8fd9\u79cd\u6a21\u5757\u5f00\u53d1\u7684\u601d\u60f3\uff0c\u6211\u4eec\u5e94\u8be5\u53ef\u4ee5\u7f16\u5199\u51fa\u5f88\u591a\u4e2a\u5c0f\u6a21\u5757\u4e86\u3002\n\n\u597d\u5904\u662f\u4ec0\u4e48\u5462\uff1f\u4f60\u6709\u6ca1\u6709\u53d1\u73b0\u5728\u5f00\u53d1\u8fd9\u4e9b\u5c0f\u6a21\u5757\u7684\u65f6\u5019\u65e0\u6bd4\u8f7b\u677e\uff0c\u6709\u4e00\u79cd\u6240\u89c1\u5373\u6240\u5f97\u7684\u7545\u5feb\u4f53\u9a8c\uff1f\u6211\u4eec\u4e0d\u662f\u5728\u5934\u75bc\u4e00\u4e2a\u9879\u76ee\u7684\u5e9e\u5927\uff0c\u800c\u662f\u5728\u4eab\u53d7\u5b8c\u6210\u4e00\u4e2a\u53c8\u4e00\u4e2a\u7684\u5c0f\u4efb\u52a1\u3002\n\n\u5168\u90e8\u5b8c\u6210\u4e4b\u540e\u5462\uff1f\u90a3\u63a5\u4e0b\u6765\u5c31\u662f\u7ec4\u88c5\u7684\u8fc7\u7a0b\u4e86\uff0c\u4e00\u4e2a\u9875\u9762\u4e2d\u6709\u54ea\u4e9b\u6a21\u5757\uff0c\u5c06\u9700\u8981\u7684\u6a21\u5757\u7ec4\u88c5\u8fdb\u53bb\u4e0d\u5c31ok\u4e86\u561b\uff08\u5982\u679c\u4f60\u8fd8\u5728\u7ea0\u7ed3\u591a\u4e2a\u6a21\u5757\u5728\u4e00\u4e2a\u754c\u9762\u5982\u4f55\u5e03\u5c40\uff0c\u5c31\u60f3\u60f3`css`\u7684\u76d2\u6a21\u578b\uff09\u3002\u5177\u4f53\u4f7f\u7528\u5c31\u662f\u4f9d\u9760`requirejs`\u4e86\u3002\u56e0\u4e3a\u7ec4\u88c5\u7684\u9053\u7406\u662f\u4e92\u901a\u7684\uff0c\u6240\u4ee5\u5b8c\u6210\u4e00\u4e2a\u9875\u9762\u7684\u7ec4\u88c5\u4e4b\u540e\uff1b\u540e\u7eed\u5c31\u4f1a\u975e\u5e38\u5feb\u4e86\u3002\n\n\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u6a21\u5757\u5316\u5f00\u53d1\u601d\u60f3\u4e0d\u80fd\u6ee5\u7528\u3002\u6bd4\u5982\u4e00\u4e2a\u767b\u9646\u754c\u9762\uff0c\u53ea\u6709\u4e00\u4e2a\u767b\u9646\u7ec4\u4ef6\u3002\u6709\u5fc5\u8981\u518d\u628a\u5b83\u62bd\u79bb\u51fa\u6765\u518d\u7ec4\u88c5\u8fdb\u53bb\u5417\uff1f\u5b8c\u5168\u662f\u6ca1\u5fc5\u8981\u7684\uff0c\u8fd9\u4e2a\u65f6\u95f4\u76f4\u63a5\u5199\u8fdb\u4e00\u4e2a\u5b8c\u6574\u7684`login.html`\u9875\u9762\u4e2d\u5c31\u597d\u4e86\u3002\n\n### 3. \u7ec4\u88c5\u591a\u4e2a\u6a21\u5757\n\u9488\u5bf9`index.html`\u6587\u4ef6\uff0c\u6211\u4eec\u5f00\u53d1\u4e86`teacherTable`, `teacherInfo`, `teacherEdit`, `teacherAdd`, `personal`\u4e94\u4e2a\u7ec4\u4ef6\uff0c\u4e0b\u4e00\u6b65\u5c31\u662f\u5c06\u5176\u62bd\u79bb\u51fa\u6765\uff0c\u5206\u522b\u521b\u5efa\u5bf9\u5e94\u7684`js`, `html`\u6587\u4ef6\u3002\u8fd9\u91cc\u5c31\u4f7f\u7528\u5230\u4e86`requirejs`\u3002\n\n### 3.1 \u914d\u7f6e`main.js`\u6587\u4ef6\n\u9996\u5148\u914d\u7f6e\u5982\u4e0b\u5c5e\u6027\uff0c\u4e3b\u8981\u662f\u5229\u7528`require.config()`\u65b9\u6cd5\u5b8c\u6210\u5bf9**\u5e93**\u548c**\u8def\u5f84**\u7684\u7b80\u5199\uff0c\u4ee5\u53ca\u9002\u914d\u4e0d\u7b26\u5408`AMD`\u89c4\u8303\u7684\u5e93\u3002\n```\nrequire.config({\n    \/\/ baseUrl: '..\/lib\/js',\n    paths: {\n        jquery: '.\/jquery-3.2.1',\n        art: '.\/art-template',\n        bootstrap: '.\/bootstrap',\n        text: '.\/text',\n        \/\/ \u8def\u5f84\n        tpls: '..\/..\/tpls',\n        js: '..\/..\/js'\n    },\n    shim: {\n        'bootstrap': {\n            deps: ['jquery']\n        }\n    }\n});\n```\n\n### 3.2 \u521b\u5efa\u5e76\u5bfc\u5165`teacherTable.js`\n\u63a5\u7740\u5c31\u662f\u5bf9\u7b2c\u4e00\u4e2a\u6a21\u5757`teacherTable`\u7684\u5bfc\u5165\u4e86\uff0c`html`\u6587\u4ef6\u6211\u4eec\u77e5\u9053\u5c31\u662f\u90a3\u70b9\u4e1c\u897f\uff0c\u4f46\u662f`js`\u5982\u4f55\u4fee\u6539\u624d\u80fd\u50cf\u662f\u4e00\u4e2a\u6a21\u5757\u5462\u3002\u8fd9\u4e2a\u65f6\u5019\u8981\u4ee5\u4e00\u79cd\u62bd\u8c61\u7684\u65b9\u5f0f\u53bb\u601d\u8003\uff0c\u5373\u8fd9\u4e2a\u6a21\u5757\u7684\u529f\u80fd\u662f**\u63a5\u6536\u6570\u636e\u5e76\u751f\u6210\u4e00\u4e2aDOM\u5bf9\u8c61\u5e76\u8fdb\u884c\u4e8b\u4ef6\u76d1\u542c\uff0c\u6700\u540e\u6302\u8f7d\u5728`index.html`\u7684\u4e3b\u4f53\u4e0a**\u3002\u901a\u4fd7\u6765\u8bb2\uff0c\u7ed9\u6211\u9700\u8981\u7684\u6570\u636e\uff08\u8fd9\u91cc\u6307\u8bb2\u5e08\u5217\u8868\uff09\uff0c\u6211\u628a\u5b83\u6e32\u67d3\u6210\u8868\u683c\uff0c\u5e76\u4e14\u5bf9\u6309\u94ae\u6dfb\u52a0\u70b9\u51fb\u4e8b\u4ef6\uff0c\u7136\u540e\u8ffd\u52a0\u5230`index.html`\u7684`body`\u4e2d\u3002\n\n**teacherTable.js**\n\n```\ndefine(['jquery', 'art', 'text!tpls\/teacherTable.html'], function ($, template, tpl) {\n    function loadTeacherTable (data) {\n        var str = template.render(tpl, data);\n    \n        $('.teacherTableContainer')[0].innerHTML = str;\n\n        \/\/ \u4e8b\u4ef6\u59d4\u6258\n        $('#tpl-teacherTable')\n            .on('click', '.btn-success', lookClick)\n            .on('click', '.btn-primary', editClick)\n            .on('click', '.btn-info', statusClick);\n    }\n\n    function lookClick () {\n        \/\/ \u6839\u636eid\u8bf7\u6c42\u4fe1\u606f\n        currentInfo = JSON.parse($(this).attr('data-info'));\n        require(['js\/teacherInfo'], function (loadInfoModal) {\n            loadInfoModal({\n                teacher: currentInfo\n            });\n        });\n    }\n    function editClick () {\n        \/\/ \u7f16\u8f91 get \u4fee\u6539 post \u4e24\u4e2a\u63a5\u53e3\n        currentInfo = JSON.parse($(this).attr('data-info'));\n        require(['js\/teacherEdit'], function (loadEditModal) {\n            loadEditModal({\n                teacher: currentInfo\n            });\n        });\n\n        \/\/ \u5237\u65b0\u6570\u636e\uff0c\u539f\u7406\u540c\u4e0b\u5dee\u4e0d\u591a\n    }\n    function statusClick () {\n        var info = JSON.parse($(this).attr('data-info'));\n        \/\/ \u8bf7\u6c42\u66f4\u6539\u72b6\u6001\u63a5\u53e3 id\/status\n\n        \/\/ \u82e5\u6210\u529f\uff0c\u66f4\u65b0 $(this) \u7684data-info\u503c\u53ca\u6309\u94ae\u72b6\u6001\n        \/\/ info.tc_status = res.result.tc_status;\n        $(this).attr('data-info', JSON.stringify(info));\n        $(this).text() == '\u542f\u7528' ? $(this).text('\u6ce8\u9500') : $(this).text('\u542f\u7528');\n    }\n\n    return loadTeacherTable;\n});\n```\n\u8fd9\u4e2a\u6a21\u5757`return`\u4e86\u4e00\u4e2a`loadTeacherTable`\u51fd\u6570\uff0c\u51fd\u6570\u63a5\u6536\u4e00\u4e2a`data`\u53c2\u6570\uff0c\u7136\u540e\u6e32\u67d3\uff0c\u6302\u8f7d\uff0c\u5e76\u8fdb\u884c\u4e8b\u4ef6\u76d1\u542c\u3002\n\n**main.js**\n\n```\nrequire(['js\/teacherTable'], function (loadTeacherTable) {\n    loadTeacherTable({\n        teacherData: myData\t\/\/ myData \u662f\u670d\u52a1\u5668\u63a5\u53e3\u63d0\u4f9b\u7684\u6570\u636e\n    });\n});\n```\n`main`\u6587\u4ef6\u4e2d\u5f15\u5165`teacherTable`\u6a21\u5757\uff0c\u5b9e\u73b0\u6a21\u5757\u7684\u5bfc\u5165\u3002\n\n\u5982\u679c\u8fd9\u4e2a\u8fc7\u7a0b\u8d70\u4e0b\u6765\u4e86\uff0c\u90a3\u63a5\u4e0b\u6765\u5269\u4e0b\u7684\u51e0\u4e2a\u6a21\u5757\u5bfc\u5165\u5c31\u4e0d\u5728\u8bdd\u4e0b\u4e86\uff0c\u57fa\u672c\u90fd\u662f\u4e00\u4e2a\u601d\u60f3\u3002\n\u53ea\u4e0d\u8fc7\uff0c\u6709\u65f6\u5019\u6a21\u5757\u6ca1\u5fc5\u8981\u4e00\u5f00\u59cb\u5c31\u52a0\u8f7d\u8fdb\u6765\u3002\u6bd4\u5982\u6a21\u6001\u6846\uff08\u5728\u4e0a\u9762\u7684`teacherTable.js`\u4e2d\u5c31\u6709\u4f53\u73b0\uff09\u3002\u53ea\u6709\u5728\u7528\u6237\u70b9\u51fb\u64cd\u4f5c\u4e4b\u540e\u624d\u4f1a\u663e\u793a\u6a21\u6001\u6846\uff0c\u90a3\u6211\u4eec\u5c31\u53ef\u4ee5\u5c06\u6a21\u5757\u5f15\u5165\u903b\u8f91\u653e\u5728\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u91cc\u3002\u5982\u4e0b\u4ee3\u7801\u7247\u6bb5\uff1a\n```\n\/\/ \u6dfb\u52a0\u529f\u80fd\u4e0d\u9700\u8981\u9884\u52a0\u8f7d\u6570\u636e\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u4f20\u9012\u53c2\u6570\n$('#teacher-add-btn').on('click', function () {\n    require(['js\/teacherAdd'], function (loadAddModal) {\n        loadAddModal();\n    });\n});\n\n\/\/ \u4e2a\u4eba\u4e2d\u5fc3\u529f\u80fd\u5219\u9700\u8981\u9884\u52a0\u8f7d\u5bf9\u5e94\u7684\u6570\u636e\uff0c\u9700\u8981\u4f20\u9012\u4e00\u4e2a\u53c2\u6570\n$('#personal-btn').on('click', function () {\n    require(['js\/personal'], function (loadPersonalModal) {\n        loadPersonalModal({\n            teacher: personalData\n        });\n    });\n});\n```\n\n### 3.3 \u7ed3\u8bba\n\u5230\u6b64\u4e00\u4e2a`app`\u7684\u901a\u7528\u6d41\u7a0b\u5c31\u8d70\u4e0b\u6765\u4e86\u3002\u4e3b\u8981\u56de\u987e\u4e24\u70b9\uff1a\n1. \u638c\u63e1\u72ec\u7acb\u5f00\u53d1\u5355\u4e2a\u6a21\u5757\u7684\u601d\u60f3\n2. \u5b66\u4f1a\u62bd\u8c61\u6a21\u5757\u5230\u5f15\u5165\u4e3b\u9875\u9762\u7684\u6280\u80fd\n\n## 4. \u5f00\u53d1\u7ec6\u8282\u8865\u5145\n\n### 4.1 \u767b\u5f55\u7cfb\u7edf\uff08\u5373\u7528\u6237\u7cfb\u7edf\uff0c\u8c08\u8c08cookie\/session\u4e0ejwt\uff09\n\u672c\u9879\u76ee\u5bf9\u4e8e\u7528\u6237\u8ba4\u8bc1\u91c7\u53d6\u7684\u65b9\u6cd5\u4e3a\uff1a\n\u7528\u6237\u767b\u5f55 `->` \u5c06\u7528\u6237\u4fe1\u606f\u5b58\u50a8\u8fdb\u672c\u5730cookie\u4e2d `->` \u8df3\u8f6c\u9996\u9875\uff1b\n\u6bcf\u6b21\u53d1\u9001\u8bf7\u6c42\u524d\u6216\u662f\u8bbf\u95ee\u9996\u9875\u524d `->` \u68c0\u6d4b\u672c\u5730`cookie`\u662f\u5426\u5305\u542b\u7528\u6237\u4fe1\u606f `->` \u5b58\u5728\u5373\u5408\u6cd5\u7528\u6237\uff0c\u4e0d\u5b58\u5728\u5373\u4e0d\u5408\u6cd5\uff0c\u8df3\u8f6c\u81f3\u767b\u5f55\u754c\u9762\u3002\n\n**\u7136\u800c\u8fd9\u79cd\u505a\u6cd5\u4ec5\u4ec5\u662f\u4e00\u4e2a\u4f2a\u9a8c\u8bc1\u3002\u5b9e\u9645\u4e2d\u7684\u9879\u76ee\u4e00\u662f\u7528\u6237\u8ba4\u8bc1\u90fd\u662f\u670d\u52a1\u7aef\u505a\u7684\u4e8b\u60c5\uff0c\u4e8c\u662f\u5f88\u5c11\u4e3b\u52a8\u64cd\u4f5ccookie\u3002**\n\n\u90a3\u4e48`cookie`\u7684\u5b9e\u9645\u4f7f\u7528\u662f\u600e\u6837\u7684\u5462\uff1f\u6211\u4ee5\u81ea\u6211\u7406\u89e3\u8c08\u4e00\u8c08\u3002\n`cookie`\u53ef\u4ee5\u7406\u89e3\u4e3aPC\u6d4f\u89c8\u5668\u7684\u4e00\u79cd\u5b58\u50a8\u673a\u5236\uff0c\u5b83\u548c\u6d4f\u89c8\u5668\u65b0\u589e\u7684`API`\u4e2d\u7684`localStorage`, `sessionStorage`\u6709\u4e00\u5b9a\u7684\u76f8\u4f3c\uff08\u4ec5\u4ece\u5b58\u50a8\u4e0a\u6765\u8bf4\uff09\u3002\u4f46`cookie`\u8fd8\u6709\u4e2a\u597d\u5904\u5c31\u662f\u6bcf\u6b21\u672c\u5730\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u7aef\u53d1\u9001`http`\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u4f1a\u5728**\u8bf7\u6c42\u5934**\u4e2d\u9644\u52a0`Cookie`\u8fd9\u4e2a\u5b57\u6bb5\uff0c\u5c06`cookie`\u503c\u4f20\u7ed9\u670d\u52a1\u7aef\u3002\u524d\u63d0\u662f**\u540c\u57df**\u4e0b\u3002\n\u5728\u89e3\u91ca\u4e0b\u9762\u7684\u4e1c\u897f\u524d\uff0c\u6211\u5148\u4e3e\u4e2a\u4f8b\u5b50\u7ed9\u5927\u5bb6\u4ee5\u4fbf\u66f4\u5bb9\u6613\u7406\u89e3\uff1a\u5047\u8bbe\u4f60\u5728\u817e\u8baf\u7f51`www.tengxun.com`\u4e0a\u8fdb\u884c\u4e86**\u767b\u5f55**\u64cd\u4f5c\uff0c\u63a5\u7740\u670d\u52a1\u5668\u90a3\u8fb9\u5c31\u4f1a\u54cd\u5e94\u4ece\u800c\u5728\u6d4f\u89c8\u5668\u7aef\uff08\u5ba2\u6237\u7aef\uff09\u8bbe\u7f6e\u4e00\u4e2a**\u6b64\u57df**\u4e0b\u7684`cookie`\u503c\uff08\u5177\u4f53\u65b9\u6cd5\u89c1\u4e0b\uff09\u3002\u63a5\u4e0b\u6765\u4f60\u5982\u679c\u70b9\u51fb\u4e86\u67e5\u770b\u4e2a\u4eba\u4fe1\u606f\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u53d1\u9001\u5173\u4e8e`www.tengxun.com\/personalInfo`\u63a5\u53e3\u7684 `get`\u8bf7\u6c42\uff0c\u6d4f\u89c8\u5668\u53d1\u73b0\u672c\u5730\u5b58\u50a8\u7684`cookie`\u4e2d\u6709\u5173\u4e8e`www.tengxun.com`\u8fd9\u4e2a\u57df\u540d\u4e0b\u7684\u503c\uff0c\u5c31\u4f1a\u4e00\u5e76\u968f\u8bf7\u6c42\u53d1\u9001\u3002\u7136\u540e\u670d\u52a1\u7aef\u63a5\u6536\u8bf7\u6c42\u62ff\u5230\u8bf7\u6c42\u5934\u4e2d\u7684`cookie`\u503c\u5c31\u80fd\u5224\u65ad\u662f\u54ea\u4e2a\u7528\u6237\u5e76\u8fd4\u56de\u5bf9\u5e94\u7684\u7528\u6237\u4fe1\u606f\u4e86\u3002\n\n**\u5f53\u77e5\u9053\u4e86cookie\u8981\u4f5c\u4e3a\u7528\u6237\u552f\u4e00\u51ed\u8bc1\u53d1\u9001\u7ed9\u670d\u52a1\u5668\uff0c\u4f60\u662f\u5426\u4f1a\u60f3cookie\u662f\u600e\u4e48\u8bbe\u7f6e\u7684\u5462\uff1f\u670d\u52a1\u7aef\u600e\u4e48\u901a\u8fc7cookie\u786e\u5b9a\u662f\u54ea\u4e2a\u7528\u6237\u5462\uff1f**\n\n#### 4.1.1 cookie\u662f\u600e\u4e48\u8bbe\u7f6e\u7684\uff1f\n\u7528\u6237\u5bc6\u7801\u767b\u5f55 `->` \u670d\u52a1\u7aef\u9a8c\u8bc1\u6210\u529f\uff0c\u751f\u6210\u4e00\u6761`session`\u4fe1\u606f\uff08\u8fd9\u4e2a\u4fe1\u606f\u4e2d\u5305\u542b\u4e86\u7528\u6237\u6807\u8bc6\uff0c\u6bd4\u5982\u7528\u6237`id`\u8fd9\u79cd\u654f\u611f\u4fe1\u606f\uff09\u5b58\u50a8\u5728**\u5185\u5b58\/\u6570\u636e\u5e93**\u4e2d\uff0c\u7136\u540e\u4ec5\u5c06`sessionId`\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\uff08\u5177\u4f53\u65b9\u5f0f\u5c31\u662f\u8bbe\u7f6e\u54cd\u5e94\u5934`Set-Cookie: NAME=VALUE; expires=DATE;\npath=PATH; domain=DOMAIN_NAME; secure`\uff0c\u4e00\u4e9b\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u8be6\u60c5\u81ea\u67e5\uff09 `->` \u5ba2\u6237\u7aef\u63a5\u6536\u5230\u54cd\u5e94\u53d1\u73b0\u6709`Set-Cookie`\u8fd9\u4e2a\u54cd\u5e94\u5934\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u5b58\u50a8\u8fd9\u4e2a`cookie`\u503c\u4f5c\u4e3a\u4e4b\u540e\u8bf7\u6c42\u7684\u7528\u6237\u51ed\u8bc1\u3002\n\n#### 4.1.2 \u670d\u52a1\u7aef\u600e\u4e48\u901a\u8fc7cookie\u786e\u5b9a\u662f\u54ea\u4e2a\u7528\u6237\uff1f\n\u670d\u52a1\u7aef\u62ff\u5230\u8bf7\u6c42\u4e2d\u7684`cookie`\u503c `->` \u89e3\u6790\u51fa\u5b58\u50a8\u5728 `cookie` \u4e2d\u7684 `sessionId`\u503c `->` \u901a\u8fc7`sessionId`\u5728**\u5185\u5b58\/\u6570\u636e\u5e93**\u4e2d\u62ff\u5230\u5bf9\u5e94\u7684session\u503c\uff08\u5373\u7528\u6237\u4e00\u7cfb\u5217\u654f\u611f\u4fe1\u606f\uff0c\u6bd4\u5982\u7528\u6237`id`\uff09 `->` \u6709\u4e86\u7528\u6237`id`\uff0c\u5c31\u53ef\u4ee5\u53bb\u6570\u636e\u5e93\u4e2d\u67e5\u627e\u7528\u6237\u6570\u636e\u4e86\u3002\n\n\u5982\u679c\u8bfb\u61c2\u7684\u8bdd\uff0c\u5c31\u5f88\u5bb9\u6613\u7406\u89e3\uff1a\u7528\u6237\u8ba4\u8bc1\u662f`session\/cookie`\u673a\u5236\u7684\u8bdd\uff0c\u5ba2\u6237\u7aef\uff08\u524d\u7aef\uff09\u662f\u4e0d\u9700\u8981\u505a\u4ec0\u4e48\u5de5\u4f5c\u7684\u3002\u5047\u5982\u51fa\u73b0\u7528\u6237\u9a8c\u8bc1\u5931\u8d25\u7684\u8bdd\uff0c\u670d\u52a1\u7aef\u4f1a\u81ea\u884c\u8fd4\u56de\u4e00\u4e2a`401 \u7528\u6237\u8ba4\u8bc1\u5931\u8d25`\u7684\u9875\u9762\u6216\u662f\u72b6\u6001\u7801\u3002\n\n**NOTE\uff1a\u4e0a\u8ff0\u63d0\u5230\u4e86\u8bb8\u591a\u8bf7\u6c42\u5934\u548c\u54cd\u5e94\u5934\uff0c\u5176\u5b9e\u8fd9\u662f`HTTP`\u7684\u57fa\u672c\u77e5\u8bc6\uff0c\u5efa\u8bae\u5927\u5bb6\u68c0\u7d22\u6216\u8005\u67e5\u770b`\u300aHTTP\u6743\u5a01\u6307\u5357\u300b`\u7b2c\u4e00\u7ae0\uff0c\u8be6\u7ec6\u4e86\u89e3\u4e00\u4e0b\u6570\u636e\u4f20\u8f93\u8fc7\u7a0b\u3002**\n\n#### 4.1.3 jwt\uff08jsonwebtoken\uff09\u8ba4\u8bc1\n\u8fd9\u91cc\u4ec5\u4f5c\u4e3a\u5efa\u8bae\uff0c\u5e0c\u671b\u5927\u5bb6\u4e86\u89e3\u4e00\u4e0b`jwt`\u8ba4\u8bc1\u7684\u673a\u5236\uff0c\u548c\u4e0a\u8ff0\u7684`cookie\/session`\u6709\u76f8\u540c\u7684\u5730\u65b9\u3002\n\u5b83\u5bf9\u5ba2\u6237\u7aef\u6709\u66f4\u597d\u7684\u517c\u5bb9\u6027\u3002\u6bd4\u5982\u79fb\u52a8\u7aef\uff0c\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u8fd9\u79cd\u5ba2\u6237\u7aef\u662f\u4e0d\u652f\u6301`cookie`\u5b58\u50a8\u673a\u5236\u7684\u3002\n\n### 4.2 \u6a21\u5757\u6574\u5408\n\u6a21\u5757\u6574\u5408\u4e3b\u8981\u9762\u5bf9\u4e24\u4e2a\u95ee\u9898\uff0c\u4e00\u4e2a\u662f`config`\u7684\u914d\u7f6e\uff0c\u4e00\u4e2a\u5c31\u662f\u6700\u5f00\u59cb\u5982\u4f55\u5bf9\u7b2c\u4e00\u4e2a\u6a21\u5757\u62bd\u79bb\u3002\n\n#### 4.2.1 `config`\u914d\u7f6e\n\u8fd9\u91cc\u78b0\u5230\u7684\u9519\u8bef\u5c31\u662f\u6ca1\u6709\u7406\u89e3\u6e05\u695a\u6a21\u5757\u52a0\u8f7d\u8def\u5f84\u662f\u4ee5\u4ec0\u4e48\u4e3a\u57fa\u51c6\u7684\uff0c\u67e5\u770b\u6587\u6863\u5f97\u51fa\u5982\u4e0b\u7ed3\u8bba\uff1a\na. \u6ca1\u6709\u5165\u53e3\u6587\u4ef6\uff0c\u4ee5requirejs\u8def\u5f84\u4e3a\u6839\u8def\u5f84\nb. \u6709\u5165\u53e3\u6587\u4ef6\uff0c\u4ee5\u5165\u53e3\u6587\u4ef6\u6240\u5728\u76ee\u5f55\nc. baseUrl\n\n#### 4.2.2 \u7b2c\u4e00\u4e2a\u6a21\u5757\u62bd\u79bb\n\u8fd9\u4e00\u5757\u57fa\u672c\u4e5f\u6ca1\u6709\u591a\u8bf4\u7684\uff0c\u6838\u5fc3\u601d\u60f3\u5df2\u7ecf\u5728\u4e0a\u8ff0\u7ae0\u8282\u4e2d\u8c08\u660e\u767d\u4e86\u3002\u60f3\u8868\u8fbe\u7684\u662f\u5927\u591a\u6570\u4eba\u5728\u4e00\u5f00\u59cb\u90fd\u4e0d\u4f1a\u628a\u7ed3\u6784\u89c4\u5212\u7684\u5f88\u5408\u7406\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5c31\u662f\u8981\u53bb\u4e0d\u65ad\u7684\u8bd5\u9519\uff0c\u8c03\u6574\u4fee\u6539\uff0c\u6700\u7ec8\u8fbe\u5230\u4e00\u79cd\u7406\u60f3\u6548\u679c\u3002\u5f53\u6700\u540e\u62bd\u8c61\u51fa\u4e00\u4e2a\u901a\u7528\u7684\u6a21\u578b\u4e4b\u540e\uff0c\u5de5\u4f5c\u6548\u7387\u5c31\u4f1a\u5f88\u5feb\u4e86\u3002\n\n### 4.3 `artTemplate`\u4f7f\u7528\u7684\u95ee\u9898\uff08\u8ffd\u8e2a\u9519\u8bef\u6808\uff0c\u8bfb\u6587\u6863\uff09\n\u8fd9\u4e2a\u9519\u8bef\u662f\u4e2a\u4f4e\u7ea7\u9519\u8bef\uff0c\u662f\u4e0d\u5e94\u8be5\u51fa\u73b0\u7684\u3002\u539f\u56e0\u5c31\u662f\u6ca1\u6709\u8bfb\u6e05\u695a\u6587\u6863\uff0c\u60f3\u5f53\u7136\u7684\u5728\u4f7f\u7528\u3002**\u4f46\u662f\u6709\u65f6\u5019\u5de5\u4f5c\u4e2d\u662f\u4f1a\u51fa\u73b0\u8fd9\u79cd\u4f4e\u7ea7\u9519\u8bef\u7684\uff0c\u6211\u4eec\u8981\u505a\u7684\u5c31\u662f\u67e5\u770b\u9519\u8bef\u4fe1\u606f\u6216\u662f\u67e5\u770b\u6587\u6863\u7684\u4f7f\u7528\u65b9\u5f0f**\u3002\n\n\u9996\u5148\u95ee\u9898\u7684\u8d77\u56e0\u662f`artTemplate`\u63d0\u4f9b\u4e86\u4e00\u4e2a`template.render(str, data [, option])`\u65b9\u6cd5\u6765\u8fdb\u884c\u6a21\u677f\u4e0e\u6570\u636e\u7684\u878d\u5408\uff0c\u800c\u6211\u4f7f\u7528\u6210\u4e86`template(str, data)`\u3002\u6700\u7ec8\u62a5\u9519\u4e3a\uff1a\n```\nTypeError: Cannot read property 'value' of null\n    at Object.o [as loader] (http:\/\/localhost:3000\/lib\/js\/art-template.js:267:21)\n    at e (http:\/\/localhost:3000\/lib\/js\/art-template.js:44:27)\n    at o (http:\/\/localhost:3000\/lib\/js\/art-template.js:189:20)\n    at c (http:\/\/localhost:3000\/lib\/js\/art-template.js:569:71)\n    at loadTeacherTable (http:\/\/localhost:3000\/js\/teacherTable.js:3:19)\n    at http:\/\/localhost:3000\/lib\/js\/index.js:20:5\n    at Object.execCb (http:\/\/localhost:3000\/lib\/js\/require.js:1696:33)\n    at Module.check (http:\/\/localhost:3000\/lib\/js\/require.js:883:51)\n    at Module.<anonymous> (http:\/\/localhost:3000\/lib\/js\/require.js:1139:34)\n    at http:\/\/localhost:3000\/lib\/js\/require.js:134:23\n    \n    \/\/ \u53ea\u590d\u5236\u4e86\u5927\u4f53\u6458\u8981\uff0c\u5177\u4f53\u7684\u9519\u8bef\u6808\u5446\u4f1a\u5728\u8c03\u8bd5\u56fe\u4e2d\u770b\u3002\n```\n\u4ece\u4e0a\u8ff0\u5f97\u51fa\u7684\u9519\u8bef\u4fe1\u606f\u5c31\u662f\uff1a**Cannot read property 'value' of null**\u3002\n\u6700\u540e\u8fd0\u884c\u5230\u4e86**at Object.o [as loader] (http:\/\/localhost:3000\/lib\/js\/art-template.js:267:21)**\uff0c\u5373`art-template.js`\u7684267\u884c21\u5217\u3002\n\n\u6211\u4eec\u70b9\u51fb\u6b64\u94fe\u63a5\u5b9a\u4f4d\u5230\u51fa\u95ee\u9898\u7684\u4ee3\u7801\u90e8\u5206\uff0c\u7136\u540e\u5728\u6b64\u884c\u6253\u4e0a\u4e00\u4e2a\u65ad\u70b9\uff0c\u5237\u65b0\u9875\u9762\u4f1a\u5f97\u5230\u5982\u4e0b\u4fe1\u606f\uff1a\n![](https:\/\/box.kancloud.cn\/dc3b086617c3a77e2ea5f6b1d39543c0_1701x436.png)\n\n\u5728\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u4e24\u4e2a\u91cd\u8981\u4fe1\u606f\uff1a\n- \u5404\u4e2a\u53c2\u6570\u7684\u503c\u662f\u4ec0\u4e48\n- \u8c03\u7528\u6808\u90fd\u662f\u4ec0\u4e48\n\n\u7ed3\u5408\u8fd9\u4e9b\u4fe1\u606f\u5f88\u5bb9\u6613\u7406\u89e3\u9519\u8bef\u4fe1\u606f\uff0c`t`\u4e3a`null`\uff0c\u6240\u4ee5\u65e0\u6cd5\u8bbf\u95ee\u5176`value`\u548c`innerHTML`\u3002\u90a3\u4e48\u662f\u4ec0\u4e48\u539f\u56e0\u5bfc\u81f4`t`\u4e3a`null`\u5462\uff1f\u770b\u4e0a\u4e00\u884c\u4ee3\u7801\uff1a`var t = document.getElementById(e);`\uff0c`e`\u7684\u503c\u662f\u4ec0\u4e48\u5462\uff1f\u53ef\u4ee5\u5f88\u6e05\u6670\u7684\u770b\u51fa\uff0c`e`\u5176\u5b9e\u662f\u9700\u8981\u4e00\u4e2a\u9009\u62e9\u7b26\u6765\u9009\u62e9\u7279\u5b9a\u7684`DOM`\u5143\u7d20\uff0c\u7ee7\u800c\u83b7\u53d6\u5176`innerHMTL`\u3002\u800c\u6211\u4eec\u5374\u628a`e`\u503c\u4f20\u9012\u6210\u4e86\u6a21\u677f\u5b57\u7b26\u4e32\uff0c\u81ea\u7136\u662f\u6709\u95ee\u9898\u7684\u3002\n\n\u600e\u4e48\u770b\u81ea\u5df1\u7684\u4ee3\u7801\u54ea\u91cc\u51fa\u95ee\u9898\u4e86\u5462\uff1f\u770b\u9519\u8bef\u6808\u5c31\u597d\u4e86\uff0c\u53f3\u8fb9\u7684\u9519\u8bef\u6808\u5f88\u6e05\u6670\u7684\u5c55\u793a\u4e86\u51fd\u6570\u8fdb\u6808\u8fc7\u7a0b\uff0c\u770b\u540e\u8fb9\u7684\u6587\u4ef6\u540d\u5c31\u77e5\u9053\u8c03\u7528\u4e86\u54ea\u4e9b\u4f60\u7684\u4ee3\u7801\u3002\u6700\u7ec8\u5b9a\u4f4d\u5230\u4e86\u4f4d\u4e8e`teacherTable.js`\u7b2c\u4e09\u884c\u7684`loadteacherTable`\u51fd\u6570\u4e2d\u7684`var str = template(tpl, data);`\u3002\u5982\u56fe\uff1a\n![](https:\/\/box.kancloud.cn\/de00f213f4658ec485792d2027167a76_1684x189.png)\n\n\u7136\u540e\u518d\u53bb\u67e5\u770b\u4e00\u4e0b**\u5b98\u65b9\u6587\u6863**\u7684`API`\n![](https:\/\/box.kancloud.cn\/67d171878d15f80094c6b793b4e5a171_811x517.png)\n\n![](https:\/\/box.kancloud.cn\/afb24b3e2d00a7c46e8f65bd4d941fc8_808x344.png)\n\n\u4f3c\u4e4e\u5c31\u5df2\u7ecf\u5b8c\u5168\u6e05\u695a\u95ee\u9898\u6240\u5728\u4e86\u3002\n\n\n### 4.4 text\u63d2\u4ef6\u8de8\u57df\u95ee\u9898\n\u56e0\u4e3a\u6211\u662f\u76f4\u63a5\u901a\u8fc7`file`\u534f\u8bae\u8bbf\u95ee\u6587\u4ef6\u7684\uff0c\u5373\u672c\u5730\u5f00\u53d1\uff0c\u6ca1\u6709\u5728\u4efb\u4f55\u670d\u52a1\u4e0b\u3002\u6240\u4ee5\u4f1a\u51fa\u73b0\u8fd9\u4e2a\u8de8\u57df\u95ee\u9898\u3002\n```\ntext.js:325\nXMLHttpRequest cannot load file:\/\/\/C:\/assets\/boxuegu\/tpls\/teacherTable.html.\nCross origin requests are only supported for protocol schemes: http, data, chrome, chrome-extension, https.\n```\n\n\u6839\u636e\u63d0\u793a\u4fe1\u606f\u5df2\u7ecf\u77e5\u9053\uff0c\u8de8\u57df\u8bf7\u6c42\u53ea\u652f\u6301\u90a3\u4e94\u79cd\u534f\u8bae\uff0c\u800c`file`\u534f\u8bae\u8bbf\u95ee\u6587\u4ef6\u662f\u4e0d\u652f\u6301\u8de8\u57df\uff08\u5177\u4f53\u4ec0\u4e48\u7b97\u662f\u4e00\u4e2a\u57df\uff0c\u81ea\u884c\u4e86\u89e3\u540c\u6e90\u7b56\u7565\uff09\u7684\u3002\n\u89e3\u51b3\u65b9\u6848\u6709\u4e24\u79cd\uff0c\u4e00\u662f\u7981\u7528\u6389`chrome`\u7684\u540c\u6e90\u7b56\u7565\u9650\u5236\uff0c\u8fd9\u4e2a\u5728`windows`\u4e0b\u4e0d\u592a\u597d\u7528\uff1b\u4e8c\u662f\u81ea\u5df1\u5728\u5f53\u524d\u76ee\u5f55\u641e\u4e00\u4e2a\u670d\u52a1\u5668\uff0c\u7528`http`\u534f\u8bae\u8bbf\u95ee\u6587\u4ef6\u4e0d\u5c31\u53ef\u4ee5\u4e86\u561b\uff08\u76f4\u63a5\u542f\u52a8\u4e00\u4e2a`nodejs`\u670d\u52a1\u5c31\u53ef\u4ee5\u4e86\uff09\u3002\n","sort":1,"comment":0,"is_probation":0,"create_time":{"date":"2017-08-25 14:07:07.000000","timezone_type":3,"timezone":"PRC"},"update_time":{"date":"2017-08-25 18:08:33.000000","timezone_type":3,"timezone":"PRC"},"book":{"id":47248,"title":"\u8bdd\u8ff0","namespace":"felbry","name":"des","description":"","tags":null,"price":0,"status":1,"attention":0,"total_comment":0,"comment":0,"views":86,"is_comment":0,"is_auto_release":0,"is_public":1,"is_download":0,"is_kindle":1,"is_reward":0,"is_recommend":0,"recommend_time":null,"token":null,"domain":null,"commission_ratio":70,"is_shelve":0,"shelve_up_time":null,"shelve_down_time":null,"release_time":{"date":"2017-08-25 18:08:33.000000","timezone_type":3,"timezone":"PRC"},"delete_time":null,"create_time":{"date":"2017-08-21 10:57:52.000000","timezone_type":3,"timezone":"PRC"},"update_time":{"date":"2017-08-25 18:08:33.000000","timezone_type":3,"timezone":"PRC"},"cover":"https:\/\/cover.kancloud.cn\/felbry\/des","context":"normal"}},
        "options":{"plugins_host":"https:\/\/plugins.kancloud.cn\/","hash":"696f44f47176d54c369eb2e4a313786e5f970e26","context":"reader","base":"\/felbry\/des\/","features":["search"]},
        "style":""
    }
</script>
<script type="text/javascript" src="./index · 话述 · 看云_files/reader.js.下载"></script>
<script type="text/javascript">
    kancloud.bootstrap();
</script>
<!-- Google Analytics -->
<script>
    window.ga = window.ga || function () {
        (ga.q = ga.q || []).push(arguments)
    };
    ga.l      = +new Date;
    ga('create', 'UA-85687835-1', 'auto', 'web');

    
        ga('web.send', 'pageview', {
        dimension1:47248
    });
    </script>
<script async="" src="./index · 话述 · 看云_files/analytics.js.下载"></script>
<!-- End Google Analytics -->
</body></html>